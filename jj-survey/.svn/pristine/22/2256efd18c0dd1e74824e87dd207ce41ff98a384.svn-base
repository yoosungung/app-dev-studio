<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!--
 설문_응답 Entity Mapper
 -->
<mapper namespace="kr.ac.jj.survey.domain.main.mapper.jd.survey.JdSurveyEntityMapper">

    <!-- 조회 -->
    <select id="select" resultType="kr.ac.jj.survey.domain.main.model.jd.survey.JdSurvey">
        <![CDATA[
            SELECT S.ID
                 , S.SURVEY_DEFINITION_ID
                 , S.IP_ADDRESS
                 , S.PERSON_ID
                 , S.EMAIL
                 , S.KOREAN_NM
                 , S.ENGL_NM
                 , S.CHCRT_NM
                 , S.STATUS
                 , S.CREATION_DATE
                 , S.LAST_UPDATE_DATE
                 , S.SUBMISSION_DATE
                 , S.TYPE_NAME
                 , S.VERSION
            FROM   SURVEY S
            WHERE  S.ID = #{id}
        ]]>
    </select>

    <!-- 생성 -->
    <insert id="insert" useGeneratedKeys="true" keyProperty="jdSurvey.id">
        <![CDATA[
            INSERT INTO SURVEY (
                   ID
                 , SURVEY_DEFINITION_ID
                 , IP_ADDRESS
                 , PERSON_ID
                 , EMAIL
                 , KOREAN_NM
                 , ENGL_NM
                 , CHCRT_NM
                 , STATUS
                 , CREATION_DATE
                 , LAST_UPDATE_DATE
                 , SUBMISSION_DATE
                 , TYPE_NAME
                 , VERSION
            ) VALUES (
                   #{jdSurvey.id}
                 , #{jdSurvey.surveyDefinitionId}
                 , #{jdSurvey.ipAddress}
                 , #{jdSurvey.personId}
                 , #{jdSurvey.email}
                 , #{jdSurvey.koreanNm}
                 , #{jdSurvey.englNm}
                 , #{jdSurvey.chcrtNm}
                 , #{jdSurvey.status}
                 , #{jdSurvey.creationDate}
                 , #{jdSurvey.lastUpdateDate}
                 , #{jdSurvey.submissionDate}
                 , #{jdSurvey.typeName}
                 , #{jdSurvey.version}
            )
        ]]>
    </insert>

    <!-- 수정 -->
    <update id="update">
        <![CDATA[
            UPDATE SURVEY SET
                   SURVEY_DEFINITION_ID             = #{jdSurvey.surveyDefinitionId}
                 , IP_ADDRESS                       = #{jdSurvey.ipAddress}
                 , PERSON_ID                        = #{jdSurvey.personId}
                 , EMAIL                            = #{jdSurvey.email}
                 , KOREAN_NM                        = #{jdSurvey.koreanNm}
                 , ENGL_NM                          = #{jdSurvey.englNm}
                 , CHCRT_NM                         = #{jdSurvey.chcrtNm}
                 , STATUS                           = #{jdSurvey.status}
                 , CREATION_DATE                    = #{jdSurvey.creationDate}
                 , LAST_UPDATE_DATE                 = #{jdSurvey.lastUpdateDate}
                 , SUBMISSION_DATE                  = #{jdSurvey.submissionDate}
                 , TYPE_NAME                        = #{jdSurvey.typeName}
                 , VERSION                          = #{jdSurvey.version}
            WHERE  ID = #{jdSurvey.id}
        ]]>
    </update>

    <!-- 삭제 -->
    <delete id="delete">
        <![CDATA[
            DELETE
            FROM   SURVEY
            WHERE  ID = #{id}
        ]]>
    </delete>

</mapper>
