<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<div class="widget"
    xmlns:jsp="http://java.sun.com/JSP/Page"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:fmt="http://java.sun.com/jsp/jstl/fmt"
    xmlns:spring="http://www.springframework.org/tags"
    xmlns:form="http://www.springframework.org/tags/form"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions" version="2.0">

    <jsp:directive.page contentType="text/html;charset=UTF-8" />
    <jsp:output omit-xml-declaration="yes" />

    <spring:message code="date_format" var="date_format" />

    <c:if test="${!empty surveyStatistic and surveyStatistic.submittedCount gt 0}">
        <c:if test="${!empty surveyDefinition}">

            <div class="widget-header bordered-bottom bordered-yellow">
                <div class="widget-caption" style="float: none;">
                    <table>
                        <tr>
                            <td style="width: 20px;" valign="top">${question.order}.</td>
                            <td valign="top">${question.questionText}</td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="widget-body">
                <c:choose>

                    <!-- BR    'Yes No DropDown'-->
                    <c:when test="${question.type.code eq 'BR'}">
                        <table class="table table-bordered table-hover dataTable">
                            <colgroup>
                                <col style="width: 15%;" />
                                <col style="width: 15%;" />
                                <col style="width: 15%;" />
                                <col />
                            </colgroup>
                            <thead>
                                <tr>
                                    <th class="text-center">항목</th>
                                    <th class="text-center">설문수</th>
                                    <th class="text-center" colspan="2">백분률</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="text-center">네</td>
                                    <c:set var="found" value="false" />
                                    <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop">
                                        <c:if test="${questionStatistic.entry =='1'}">
                                            <c:set var="found" value="true" />
                                            <td class="text-right">
                                                <fmt:formatNumber type="number" maxFractionDigits="0" value="${questionStatistic.count}" />
                                            </td>
                                            <td class="text-right">
                                                <fmt:formatNumber type="percent" maxFractionDigits="2" value="${questionStatistic.frequency}" />
                                            </td>
                                            <td>
                                                <fmt:formatNumber type="percent" maxFractionDigits="0" value="${questionStatistic.frequency}" var="percentage" />
                                                <div class="progress progress-xs progress-bordered no-margin">
                                                    <div class="progress-bar progress-bar-blue" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: ${percentage}"><!----></div>
                                                </div>
                                            </td>
                                        </c:if>
                                    </c:forEach>
                                    <c:if test="${!found}">
                                        <td class="text-right"><fmt:formatNumber type="number" maxFractionDigits="0" value="0" /></td>
                                        <td class="text-right"><fmt:formatNumber type="percent" maxFractionDigits="2" value="0" /></td>
                                        <td>
                                            <div class="progress progress-xs progress-bordered no-margin">
                                                <div class="progress-bar progress-bar-blue" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"><!----></div>
                                            </div>
                                        </td>
                                    </c:if>
                                </tr>
                                <tr>
                                    <td class="text-center">아니오</td>
                                    <c:set var="found" value="false" />
                                    <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop">
                                        <c:if test="${questionStatistic.entry =='0'}">
                                            <c:set var="found" value="true" />
                                            <td class="text-right"><fmt:formatNumber type="number" maxFractionDigits="0" value="${questionStatistic.count}" /></td>
                                            <td class="text-right"><fmt:formatNumber type="percent" maxFractionDigits="2" value="${questionStatistic.frequency}" /></td>
                                            <td>
                                                <fmt:formatNumber type="percent" maxFractionDigits="0" value="${questionStatistic.frequency}" var="percentage" />
                                                <div class="progress progress-xs progress-bordered no-margin">
                                                    <div class="progress-bar progress-bar-darkorange" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: ${percentage}"><!----></div>
                                                </div>
                                            </td>
                                        </c:if>
                                    </c:forEach>
                                    <c:if test="${!found}">
                                        <td class="text-right"><fmt:formatNumber type="number" maxFractionDigits="0" value="0" /></td>
                                        <td class="text-right"><fmt:formatNumber type="percent" maxFractionDigits="2" value="0" /></td>
                                        <td>
                                            <div class="progress progress-xs progress-bordered no-margin">
                                                <div class="progress-bar progress-bar-darkorange" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 0%"><!----></div>
                                            </div>
                                        </td>
                                    </c:if>
                                </tr>
                            </tbody>
                        </table>
                    </c:when>

                    <!-- IN, //Integer Input, NM, //Decimal Input-->
                    <c:when test="${question.type.code eq 'IN' || question.type.code eq 'NM'}">
                        <table class="table table-bordered table-hover dataTable">
                            <thead>
                                <tr>
                                    <th class="text-center" style="width: 25%;">최소</th>
                                    <th class="text-center" style="width: 25%;">최대</th>
                                    <th class="text-center" style="width: 25%;">평균</th>
                                    <th class="text-center" style="width: 25%;">표준편차</th>
                                </tr>
                            </thead>
                            <tbody>
                                <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop">
                                    <tr>
                                        <td class="text-right"><fmt:formatNumber type="number" maxFractionDigits="4" value="${questionStatistic.min}" /></td>
                                        <td class="text-right"><fmt:formatNumber type="number" maxFractionDigits="4" value="${questionStatistic.max}" /></td>
                                        <td class="text-right"><fmt:formatNumber type="number" maxFractionDigits="4" value="${questionStatistic.average}" /> </td>
                                        <td class="text-right"><fmt:formatNumber type="number" maxFractionDigits="4" value="${questionStatistic.sampleStandardDeviation}" /></td>
                                    </tr>
                                </c:forEach>
                            </tbody>
                        </table>
                    </c:when>

                    <!-- CR, //Currency Input-->
                    <c:when test="${question.type.code eq 'CR'}">
                        <table class="table table-bordered table-hover dataTable">
                            <thead>
                                <tr>
                                    <th class="text-center" style="width: 33%;">최소</th>
                                    <th class="text-center" style="width: 33%;">최대</th>
                                    <th class="text-center" style="width: 34%;">평균</th>
                                </tr>
                            </thead>
                            <tbody>
                                <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop">
                                    <tr>
                                        <td class="text-right"><fmt:formatNumber type="currency" maxFractionDigits="4" value="${questionStatistic.min}" /></td>
                                        <td class="text-right"><fmt:formatNumber type="currency" maxFractionDigits="4" value="${questionStatistic.max}" /></td>
                                        <td class="text-right"><fmt:formatNumber type="currency" maxFractionDigits="4" value="${questionStatistic.average}" /></td>
                                    </tr>
                                </c:forEach>
                            </tbody>
                        </table>
                    </c:when>

                    <!-- DT, //Date Input -->
                    <c:when test="${question.type.code eq 'DT'}">
                        <table class="table table-bordered table-hover dataTable">
                            <thead>
                                <tr>
                                    <th class="text-center" style="width: 50%;">최소</th>
                                    <th class="text-center" style="width: 50%;">최대</th>
                                </tr>
                            </thead>
                            <tbody>
                                <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop">
                                    <tr>
                                        <td class="text-right"><fmt:formatDate pattern="${date_format}" value="${questionStatistic.minDate}" /></td>
                                        <td class="text-right"><fmt:formatDate pattern="${date_format}" value="${questionStatistic.maxDate}" /></td>
                                    </tr>
                                </c:forEach>
                            </tbody>
                        </table>
                    </c:when>

                    <!-- SD, //Single choice Drop Down-->
                    <c:when test="${question.type.code eq 'SD'}">
                        <table class="table table-bordered table-hover dataTable">
                            <colgroup>
                                <col style="width: 30%;" />
                                <col style="width: 15%;" />
                                <col style="width: 15%;" />
                                <col />
                            </colgroup>
                            <thead>
                                <tr>
                                    <th class="text-center">항목</th>
                                    <th class="text-center">설문수</th>
                                    <th class="text-center" colspan="2">백분률</th>
                                </tr>
                            </thead>
                            <tbody>
                                <c:forEach items="${question.options}" var="option" varStatus="loop">
                                    <tr>
                                        <td class="text-center"><c:out value="${option.text}" /></td>
                                        <c:set var="found" value="false"></c:set>
                                        <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop1">
                                            <c:if test="${option.value eq questionStatistic.entry }">
                                                <c:set var="found" value="true"></c:set>
                                                <td class="text-right"><fmt:formatNumber type="number" maxFractionDigits="0" value="${questionStatistic.count}" /></td>
                                                <td class="text-right"><fmt:formatNumber type="percent" maxFractionDigits="2" value="${questionStatistic.frequency}" /></td>
                                                <td>
                                                    <fmt:formatNumber type="percent" maxFractionDigits="0" value="${questionStatistic.frequency}" var="percentage" />
                                                    <div class="progress progress-xs progress-bordered no-margin">
                                                        <div class="progress-bar progress-bar-blue" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: ${percentage}"><!----></div>
                                                    </div>
                                                </td>
                                            </c:if>
                                        </c:forEach>
                                        <c:if test="${!found}">
                                            <td class="text-right"><fmt:formatNumber type="number" maxFractionDigits="0" value="0" /></td>
                                            <td class="text-right"><fmt:formatNumber type="percent" maxFractionDigits="2" value="0" /></td>
                                            <td>
                                                <div class="progress progress-xs progress-bordered no-margin">
                                                    <div class="progress-bar progress-bar-blue" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"><!----></div>
                                                </div>
                                            </td>
                                        </c:if>
                                    </tr>
                                </c:forEach>
                            </tbody>
                        </table>
                    </c:when>

                    <!-- SR; //Single Choice Radio Buttons -->
                    <c:when test="${question.type.code eq 'SR'}">
                        <table class="table table-bordered table-hover dataTable">
                            <colgroup>
                                <col style="width: 30%;" />
                                <col style="width: 15%;" />
                                <col style="width: 15%;" />
                                <col />
                            </colgroup>
                            <thead>
                                <tr>
                                    <th class="text-center">항목</th>
                                    <th class="text-center">설문수</th>
                                    <th class="text-center" colspan="2">백분률</th>
                                </tr>
                            </thead>
                            <tbody>
                                <c:forEach items="${question.options}" var="option" varStatus="loop">
                                    <tr>
                                        <td class="text-center"><c:out value="${option.text}" /></td>
                                        <c:set var="found" value="false"></c:set>
                                        <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop1">
                                            <c:if test="${option.value eq questionStatistic.entry }">
                                                <c:set var="found" value="true"></c:set>
                                                <td class="text-right"><fmt:formatNumber type="number" maxFractionDigits="0" value="${questionStatistic.count}" /></td>
                                                <td class="text-right"><fmt:formatNumber type="percent" maxFractionDigits="2" value="${questionStatistic.frequency}" /></td>
                                                <td>
                                                    <fmt:formatNumber type="percent" maxFractionDigits="0" value="${questionStatistic.frequency}" var="percentage" />
                                                    <div class="progress progress-xs progress-bordered no-margin">
                                                        <div class="progress-bar progress-bar-blue" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: ${percentage}"><!----></div>
                                                    </div>
                                                </td>
                                            </c:if>
                                        </c:forEach>
                                        <c:if test="${!found}">
                                            <td class="text-right"><fmt:formatNumber type="number" maxFractionDigits="0" value="0" /></td>
                                            <td class="text-right"><fmt:formatNumber type="percent" maxFractionDigits="2" value="0" /></td>
                                            <td>
                                                <div class="progress progress-xs progress-bordered no-margin">
                                                    <div class="progress-bar progress-bar-blue" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"><!----></div>
                                                </div>
                                            </td>
                                        </c:if>
                                    </tr>
                                </c:forEach>
                            </tbody>
                        </table>
                    </c:when>

                    <!-- MC, //Multiple Choice Checkboxes-->
                    <c:when test="${question.type.code eq 'MC'}">
                        <table class="table table-bordered table-hover dataTable">
                            <colgroup>
                                <col style="width: 30%;" />
                                <col style="width: 15%;" />
                                <col style="width: 15%;" />
                                <col />
                            </colgroup>
                            <thead>
                                <tr>
                                    <th class="text-center">항목</th>
                                    <th class="text-center">설문수</th>
                                    <th class="text-center" colspan="2">백분률</th>
                                </tr>
                            </thead>
                            <tbody>
                                <c:forEach items="${question.options}" var="option" varStatus="loop">
                                    <tr>
                                        <td class="text-center"><c:out value="${option.text}" /></td>
                                        <c:set var="found" value="false"></c:set>
                                        <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop1">
                                            <c:if test="${option.order eq questionStatistic.optionOrder }">
                                                <c:set var="found" value="true"></c:set>
                                                <td class="text-right"><fmt:formatNumber type="number" maxFractionDigits="0" value="${questionStatistic.count}" /></td>
                                                <td class="text-right"><fmt:formatNumber type="percent" maxFractionDigits="2" value="${questionStatistic.frequency}" /></td>
                                                <td>
                                                    <fmt:formatNumber type="percent" maxFractionDigits="0"    value="${questionStatistic.frequency}" var="percentage" />
                                                    <div class="progress progress-xs progress-bordered no-margin">
                                                        <div class="progress-bar progress-bar-blue" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: ${percentage}"><!----></div>
                                                    </div>
                                                </td>
                                            </c:if>
                                        </c:forEach>
                                        <c:if test="${!found}">
                                            <td class="text-right"><fmt:formatNumber type="number" maxFractionDigits="0" value="0" /></td>
                                            <td class="frequency"><fmt:formatNumber type="percent" maxFractionDigits="2" value="0" /></td>
                                            <td>
                                                <div class="progress progress-xs progress-bordered no-margin">
                                                    <div class="progress-bar progress-bar-blue" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"><!----></div>
                                                </div>
                                            </td>
                                        </c:if>
                                    </tr>
                                </c:forEach>
                            </tbody>
                        </table>
                    </c:when>

                    <!-- YES_NO_DROPDOWN_MATRIX("BRM") -->
                    <c:when test='${question.type.code == "BRM"}'>
                        <table class="table table-bordered table-hover dataTable">
                            <thead>
                                <tr>
                                    <th></th>
                                    <c:forEach items="${question.columnLabels}" var="col">
                                        <th class="text-center"><c:out value="${col.label}" /></th>
                                    </c:forEach>
                                </tr>
                            </thead>
                            <tbody>
                                <c:forEach items="${question.rowLabels}" var="row" varStatus="rindex">
                                    <tr>
                                        <td class="text-center"><c:out value="${row.label}" /></td>
                                        <c:forEach items="${question.columnLabels}" var="col" varStatus="cindex">
                                            <td class="invoice-container">
                                                <ul class="no-margin">
                                                    <li>
                                                        네 :
                                                        <c:set var="found" value="false" />
                                                        <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop">
                                                            <c:if test="${(questionStatistic.rowOrder eq row.order) and (questionStatistic.columnOrder eq col.order) and (questionStatistic.entry =='1')}">
                                                                <c:set var="found" value="true" />
                                                                <fmt:formatNumber type="number" maxFractionDigits="0" value="${questionStatistic.count}" />
                                                                (<fmt:formatNumber type="percent" maxFractionDigits="2" value="${questionStatistic.frequency}" />)
                                                            </c:if>
                                                        </c:forEach>
                                                        <c:if test="${!found}">
                                                            <fmt:formatNumber type="number" maxFractionDigits="0" value="0" />
                                                            (<fmt:formatNumber type="percent" maxFractionDigits="2" value="0" />)
                                                        </c:if>
                                                    </li>
                                                    <li>
                                                        아니오 :
                                                        <c:set var="found" value="false" />
                                                        <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop">
                                                            <c:if test="${(questionStatistic.rowOrder eq row.order) and (questionStatistic.columnOrder eq col.order) and (questionStatistic.entry =='0')}">
                                                                <c:set var="found" value="true" />
                                                                <fmt:formatNumber type="number" maxFractionDigits="0" value="${questionStatistic.count}" />
                                                                (<fmt:formatNumber type="percent" maxFractionDigits="2" value="${questionStatistic.frequency}" />)
                                                            </c:if>
                                                        </c:forEach>
                                                        <c:if test="${!found}">
                                                            <fmt:formatNumber type="number" maxFractionDigits="0" value="0" />
                                                            (<fmt:formatNumber type="percent" maxFractionDigits="2" value="0" />)
                                                        </c:if>
                                                    </li>
                                                </ul>
                                            </td>
                                        </c:forEach>
                                    </tr>
                                </c:forEach>
                            </tbody>
                        </table>
                    </c:when>

                    <!--INTEGER_INPUT_MATRIX("INM") -->
                    <c:when test='${question.type.code == "INM"}'>
                        <table class="table table-bordered table-hover dataTable">
                            <thead>
                                <tr>
                                    <th></th>
                                    <c:forEach items="${question.columnLabels}" var="col">
                                        <th class="text-center"><c:out value="${col.label}" /></th>
                                    </c:forEach>
                                </tr>
                            </thead>
                            <tbody>
                                <c:forEach items="${question.rowLabels}" var="row" varStatus="rindex">
                                    <tr>
                                        <td class="text-center"><c:out value="${row.label}" /></td>
                                        <c:forEach items="${question.columnLabels}" var="col" varStatus="cindex">
                                            <td class="invoice-container">
                                                <ul class="no-margin">
                                                    <li>
                                                        평균 :
                                                        <c:set var="found" value="false" />
                                                        <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop">
                                                            <c:if test="${(questionStatistic.rowOrder eq row.order) and (questionStatistic.columnOrder eq col.order)}">
                                                                <c:set var="found" value="true" />
                                                                <fmt:formatNumber type="number" maxFractionDigits="4" value="${questionStatistic.average}" />
                                                            </c:if>
                                                        </c:forEach>
                                                        <c:if test="${!found}">
                                                            <fmt:formatNumber type="number" maxFractionDigits="2" value="0" />
                                                        </c:if>
                                                    </li>
                                                    <li>
                                                        최대 :
                                                        <c:set var="found" value="false" />
                                                        <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop">
                                                            <c:if test="${(questionStatistic.rowOrder eq row.order) and (questionStatistic.columnOrder eq col.order)}">
                                                                <c:set var="found" value="true" />
                                                                <fmt:formatNumber type="number" maxFractionDigits="4" value="${questionStatistic.max}" />
                                                            </c:if>
                                                        </c:forEach>
                                                        <c:if test="${!found}">
                                                            <fmt:formatNumber type="number" maxFractionDigits="2" value="0" />
                                                        </c:if>
                                                    </li>
                                                    <li>
                                                        최소 :
                                                        <c:set var="found" value="false" />
                                                        <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop">
                                                            <c:if test="${(questionStatistic.rowOrder eq row.order) and (questionStatistic.columnOrder eq col.order)}">
                                                                <c:set var="found" value="true" />
                                                                <fmt:formatNumber type="number" maxFractionDigits="4" value="${questionStatistic.min}" />
                                                            </c:if>
                                                        </c:forEach>
                                                        <c:if test="${!found}">
                                                            <fmt:formatNumber type="number" maxFractionDigits="2" value="0" />
                                                        </c:if>
                                                    </li>
                                                    <li>
                                                        표준편차 :
                                                        <c:set var="found" value="false" />
                                                        <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop">
                                                            <c:if test="${(questionStatistic.rowOrder eq row.order) and (questionStatistic.columnOrder eq col.order)}">
                                                                <c:set var="found" value="true" />
                                                                <fmt:formatNumber type="number" maxFractionDigits="4" value="${questionStatistic.sampleStandardDeviation}" />
                                                            </c:if>
                                                        </c:forEach>
                                                        <c:if test="${!found}">
                                                            <fmt:formatNumber type="number" maxFractionDigits="2" value="0" />
                                                        </c:if>
                                                    </li>
                                                </ul>
                                            </td>
                                        </c:forEach>
                                    </tr>
                                </c:forEach>
                            </tbody>
                        </table>
                    </c:when>

                    <!--DECIMAL_INPUT_MATRIX("NMM") -->
                    <c:when test='${question.type.code == "NMM"}'>
                        <table class="table table-bordered table-hover dataTable">
                            <thead>
                                <tr>
                                    <th></th>
                                    <c:forEach items="${question.columnLabels}" var="col">
                                        <th class="text-center"><c:out value="${col.label}" /></th>
                                    </c:forEach>
                                </tr>
                            </thead>
                            <tbody>
                                <c:forEach items="${question.rowLabels}" var="row" varStatus="rindex">
                                    <tr>
                                        <td class="text-center"><c:out value="${row.label}" /></td>
                                        <c:forEach items="${question.columnLabels}" var="col" varStatus="cindex">
                                            <td class="invoice-container">
                                                <ul class="no-margin">
                                                    <li>
                                                        평균 :
                                                        <c:set var="found" value="false" />
                                                        <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop">
                                                            <c:if test="${(questionStatistic.rowOrder eq row.order) and (questionStatistic.columnOrder eq col.order)}">
                                                                <c:set var="found" value="true" />
                                                                <fmt:formatNumber type="number" maxFractionDigits="10" value="${questionStatistic.average}" />
                                                            </c:if>
                                                        </c:forEach>
                                                        <c:if test="${!found}">
                                                            <fmt:formatNumber type="number" maxFractionDigits="2" value="0" />
                                                        </c:if>
                                                    </li>
                                                    <li>
                                                        최대 :
                                                        <c:set var="found" value="false" />
                                                        <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop">
                                                            <c:if test="${(questionStatistic.rowOrder eq row.order) and (questionStatistic.columnOrder eq col.order)}">
                                                                <c:set var="found" value="true" />
                                                                <fmt:formatNumber type="number" maxFractionDigits="10" value="${questionStatistic.max}" />
                                                            </c:if>
                                                        </c:forEach>
                                                        <c:if test="${!found}">
                                                            <fmt:formatNumber type="number" maxFractionDigits="2" value="0" />
                                                        </c:if>
                                                    </li>
                                                    <li>
                                                        최소 :
                                                        <c:set var="found" value="false" />
                                                        <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop">
                                                            <c:if test="${(questionStatistic.rowOrder eq row.order) and (questionStatistic.columnOrder eq col.order)}">
                                                                <c:set var="found" value="true" />
                                                                <fmt:formatNumber type="number" maxFractionDigits="10" value="${questionStatistic.min}" />
                                                            </c:if>
                                                        </c:forEach>
                                                        <c:if test="${!found}">
                                                            <fmt:formatNumber type="number" maxFractionDigits="2" value="0" />
                                                        </c:if>
                                                    </li>
                                                    <li>
                                                        표준편차 :
                                                        <c:set var="found" value="false" />
                                                        <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop">
                                                            <c:if test="${(questionStatistic.rowOrder eq row.order) and (questionStatistic.columnOrder eq col.order)}">
                                                                <c:set var="found" value="true" />
                                                                <fmt:formatNumber type="number" maxFractionDigits="10" value="${questionStatistic.sampleStandardDeviation}" />
                                                            </c:if>
                                                        </c:forEach>
                                                        <c:if test="${!found}">
                                                            <fmt:formatNumber type="number" maxFractionDigits="2" value="0" />
                                                        </c:if>
                                                    </li>
                                                </ul>
                                            </td>
                                        </c:forEach>
                                    </tr>
                                </c:forEach>
                            </tbody>
                        </table>
                    </c:when>

                    <!--CURRENCY_INPUT_MATRIX("CRM") -->
                    <c:when test='${question.type.code == "CRM"}'>
                        <table class="table table-bordered table-hover dataTable">
                            <thead>
                                <tr>
                                    <th></th>
                                    <c:forEach items="${question.columnLabels}" var="col">
                                        <th class="text-center"><c:out value="${col.label}" /></th>
                                    </c:forEach>
                                </tr>
                            </thead>
                            <tbody>
                                <c:forEach items="${question.rowLabels}" var="row" varStatus="rindex">
                                    <tr>
                                        <td class="text-center"><c:out value="${row.label}" /></td>
                                        <c:forEach items="${question.columnLabels}" var="col" varStatus="cindex">
                                            <td class="invoice-container">
                                                <ul class="no-margin">
                                                    <li>
                                                        평균 :
                                                        <c:set var="found" value="false" />
                                                        <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop">
                                                            <c:if test="${(questionStatistic.rowOrder eq row.order) and (questionStatistic.columnOrder eq col.order)}">
                                                                <c:set var="found" value="true" />
                                                                <fmt:formatNumber type="CURRENCY" maxFractionDigits="4" value="${questionStatistic.average}" />
                                                            </c:if>
                                                        </c:forEach>
                                                        <c:if test="${!found}">
                                                            <fmt:formatNumber type="CURRENCY" maxFractionDigits="2" value="10" />
                                                        </c:if>
                                                    </li>
                                                    <li>
                                                        최대 :
                                                        <c:set var="found" value="false" />
                                                        <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop">
                                                            <c:if test="${(questionStatistic.rowOrder eq row.order) and (questionStatistic.columnOrder eq col.order)}">
                                                                <c:set var="found" value="true" />
                                                                <fmt:formatNumber type="CURRENCY" maxFractionDigits="4" value="${questionStatistic.max}" />
                                                            </c:if>
                                                        </c:forEach>
                                                        <c:if test="${!found}">
                                                            <fmt:formatNumber type="CURRENCY" maxFractionDigits="2" value="0" />
                                                        </c:if>
                                                    </li>
                                                    <li>
                                                        최소 :
                                                        <c:set var="found" value="false" />
                                                        <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop">
                                                            <c:if test="${(questionStatistic.rowOrder eq row.order) and (questionStatistic.columnOrder eq col.order)}">
                                                                <c:set var="found" value="true" />
                                                                <fmt:formatNumber type="CURRENCY" maxFractionDigits="4" value="${questionStatistic.min}" />
                                                            </c:if>
                                                        </c:forEach>
                                                        <c:if test="${!found}">
                                                            <fmt:formatNumber type="CURRENCY" maxFractionDigits="2" value="0" />
                                                        </c:if>
                                                    </li>
                                                </ul>
                                            </td>
                                        </c:forEach>
                                    </tr>
                                </c:forEach>
                            </tbody>
                        </table>
                    </c:when>

                    <!-- DTM //Date Input Matrix -->
                    <c:when test='${question.type.code == "DTM"}'>
                        <table class="table table-bordered table-hover dataTable">
                            <thead>
                                <tr>
                                    <th></th>
                                    <c:forEach items="${question.columnLabels}" var="col">
                                        <th class="text-center"><c:out value="${col.label}" /></th>
                                    </c:forEach>
                                </tr>
                            </thead>
                            <tbody>
                                <c:forEach items="${question.rowLabels}" var="row" varStatus="rindex">
                                    <tr>
                                        <td class="text-center"><c:out value="${row.label}" /></td>
                                        <c:forEach items="${question.columnLabels}" var="col" varStatus="cindex">
                                            <td class="invoice-container">
                                                <ul class="no-margin">
                                                    <li>
                                                        최대 :
                                                        <c:set var="found" value="false" />
                                                        <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop">
                                                            <c:if test="${(questionStatistic.rowOrder eq row.order) and (questionStatistic.columnOrder eq col.order)}">
                                                                <c:set var="found" value="true" />
                                                                <fmt:formatDate pattern="${date_format}" value="${questionStatistic.maxDate}" />
                                                            </c:if>
                                                        </c:forEach>
                                                        <c:if test="${!found}">
                                                            <fmt:formatNumber type="CURRENCY" maxFractionDigits="2" value="0" />
                                                        </c:if>
                                                    </li>
                                                    <li>
                                                        최소 :
                                                        <c:set var="found" value="false" />
                                                        <c:forEach items="${questionStatistics}" var="questionStatistic" varStatus="loop">
                                                            <c:if test="${(questionStatistic.rowOrder eq row.order) and (questionStatistic.columnOrder eq col.order)}">
                                                                <c:set var="found" value="true" />
                                                                <fmt:formatDate pattern="${date_format}" value="${questionStatistic.minDate}" />
                                                            </c:if>
                                                        </c:forEach>
                                                        <c:if test="${!found}">
                                                            <fmt:formatDate pattern="${date_format}" value="0" />
                                                        </c:if>
                                                    </li>
                                                </ul>
                                            </td>
                                        </c:forEach>
                                    </tr>
                                </c:forEach>
                            </tbody>
                        </table>
                    </c:when>
                    <c:otherwise>
                        <span class="text-danger">
                            <i class="fa fa-exclamation"></i> 통계를 표시할 수 없습니다.
                        </span>
                    </c:otherwise>
                </c:choose>
            </div>
        </c:if>
    </c:if>
</div>


