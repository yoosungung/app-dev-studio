<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!--
api 관리 Mapper
 -->
<mapper namespace="person">

    <!-- test002 -->
    <select id="test002" resultType="kr.ac.jj.openapi.application.openapi.apilist.model.row">
        <![CDATA[
            SELECT TCP.PERSON_ID
                 , TCP.EMPL_NO
                 , TCP.EMAIL_ADRES
                 , TCP.WRITNG_PSN_ID
                 , TCP.WRITNG_DT
                 , TCP.CHANGE_PSN_ID
                 , TCP.CHANGE_DT
                 , TCP.KOREAN_NM
                 , TCP.ENGL_NM
                 , TCP.CHCRT_NM
                 , TCP.DEPT_ID
                 , TCP.HFFC_STTUS
                 , TCP.ECNY_DE
                 , TCP.RETIRE_DE
                 , TCP.OFCPS_NM
                 , TCP.CLSF_NM
                 , TCP.RSPOFC_NM
                 , TCP.TLPHON_NO
                 , TCP.ATCH_FILE_ID
                 , TCP.RM
                 , TCD.DEPT_NM
            FROM   TB_COM_PERSON TCP
                   LEFT JOIN TB_COM_DEPT TCD ON TCD.DEPT_ID = TCP.DEPT_ID
            WHERE  1 = 1
        ]]>

        <!-- 검색어 -->
        <if test='koreanNm != null and koreanNm != ""'>
            <![CDATA[
            AND TCP.KOREAN_NM = #{koreanNm}
            ]]>
        </if>

    </select>

    <!-- test001 -->
    <select id="test001" resultType="kr.ac.jj.openapi.application.openapi.apilist.model.row">
        <![CDATA[
            SELECT DAEHAK_NAME
                 , HAKBU_NAME
                 , HAKGWA_NAME
                 , HAKG_YEAR
                 , S_POINT
                 , U_POINT
                 , P_POINT
                 , E_POINT
                 , R_POINT
                 , TOTAL_POINT
            FROM DM_ON_SUPER DOS
           WHERE 1 = 1
        ]]>

        <!-- 검색어 -->
        <if test='daehakName != null and daehakName != ""'>
            <![CDATA[
            AND DOS.DAEHAK_NAME = #{daehakName}
            ]]>
        </if>

        <!-- 검색어 -->
        <if test='hakbuName != null and hakbuName != ""'>
            <![CDATA[
            AND DOS.HAKBU_NAME = #{hakbuName}
            ]]>
        </if>

        <!-- 검색어 -->
        <if test='hakgwaName != null and hakgwaName != ""'>
            <![CDATA[
            AND DOS.HAKGWA_NAME = #{hakgwaName}
            ]]>
        </if>

    </select>

</mapper>
