<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!--
 키 발급 관리 Mapper
 -->
<mapper namespace="kr.ac.jj.openapi.application.openapi.apilist.mapper.ApiListMapper">

    <!-- 목록 조회 -->
    <select id="test002" resultType="kr.ac.jj.shared.infrastructure.framework.core.support.collection.CamelKeyMap">
        <![CDATA[
            SELECT TCP.PERSON_ID
                 , TCP.EMPL_NO
                 , TCP.EMAIL_ADRES
                 , TCP.WRITNG_PSN_ID
                 , TCP.WRITNG_DT
                 , TCP.CHANGE_PSN_ID
                 , TCP.CHANGE_DT
                 , TCP.KOREAN_NM
                 , TCP.ENGL_NM
                 , TCP.CHCRT_NM
                 , TCP.DEPT_ID
                 , TCP.HFFC_STTUS
                 , TCP.ECNY_DE
                 , TCP.RETIRE_DE
                 , TCP.OFCPS_NM
                 , TCP.CLSF_NM
                 , TCP.RSPOFC_NM
                 , TCP.TLPHON_NO
                 , TCP.ATCH_FILE_ID
                 , TCP.RM
                 , TCD.DEPT_NM
            FROM   TB_COM_PERSON TCP
                   LEFT JOIN TB_COM_DEPT TCD ON TCD.DEPT_ID = TCP.DEPT_ID
            WHERE  1 = 1
        ]]>

        <!-- 검색어 -->
        <if test='koreanNm != null and koreanNm != ""'>
            <![CDATA[
            AND TCP.KOREAN_NM = #{koreanNm}
            ]]>
        </if>

    </select>

</mapper>
