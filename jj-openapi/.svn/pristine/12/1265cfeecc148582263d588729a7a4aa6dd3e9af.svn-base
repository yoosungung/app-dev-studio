<%@ page contentType="text/html; charset=utf-8" pageEncoding="UTF-8" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>

<link rel="stylesheet" type="text/css" href="${pageContext.request.contextPath}/openapi/common/user/UserLoginView.css" />

<!-- 로그인 시작 -->
<div class="loginArea" v-on:keyup.enter="login();">
    <div class="loginBox">
        <div class="loginCon">
            <input type="text" v-model="model.loginNm" alt="아이디입력" tabindex="1" ref="loginNm" />
            <ui-valid-checker v-bind:value="model.loginNm" check="required" style="position: absolute; right: 0px; top: 1px;"></ui-valid-checker>

            <input type="password" v-model="model.loginPassword" alt="비밀번호입력" tabindex="2" ref="loginPassword" />
            <ui-valid-checker v-bind:value="model.loginPassword" check="required" style="position: absolute; right: 0px; top: 54px;"></ui-valid-checker>

            <ui-button class="btn_login" tabindex="3" v-on:click="login();">로그인</ui-button>
        </div>
        <div class="loginBottom">
            <p>
                Copyrights (C)2020 Jeonju University. All Rights Reserved.
            </p>
            <span>
                <a href="" target="_blank">개인정보처리방침</a>
            </span>
        </div>
    </div>
</div>
<!-- 로그인 끝 -->

<script>
vues.login = new Vue({
    el: '.loginArea',
    data: {
        model: {
            loginNm: "",
            loginPassword: ""
        }
    },
    computed: {
        service: function() {
            return new UserLoginViewService(this);
        }
    },
    mounted: function() {
        this.$refs.loginNm.focus();
    },
    methods: {
        // 로그인
        login: function() {
            this.service.login("<c:out value='${targetUrl}' />");
        }
    }
});
</script>
