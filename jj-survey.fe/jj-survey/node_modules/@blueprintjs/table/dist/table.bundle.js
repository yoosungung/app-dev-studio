!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("@blueprintjs/core"),require("tslib"),require("classnames"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","@blueprintjs/core","tslib","classnames","react-dom"],t):"object"==typeof exports?exports.Table=t(require("react"),require("@blueprintjs/core"),require("tslib"),require("classnames"),require("react-dom")):(e.Blueprint=e.Blueprint||{},e.Blueprint.Table=t(e.React,e.Blueprint.Core,e.window,e.classNames,e.ReactDOM))}(window,function(e,t,n,o,r){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t){e.exports=r},,function(e,t,n){e.exports=n(9)()},,function(e,t,n){e.exports=n(11)},function(e,t,n){"use strict";var o=n(10);function r(){}function l(){}l.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,l,i){if(i!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var o=n(2),r=n(3),l=n.n(r),i=n(0),a=n(1),s=a.Classes.getClassNamespace(),u=s+"-table-body-cells",d=s+"-table-body-virtual-client",c=s+"-table-bottom-container",h=s+"-table-cell",p=s+"-table-cell-client",f=s+"-table-cell-ghost",g=s+"-table-cell-interactive",m=s+"-table-cell-ledger-even",C=s+"-table-cell-ledger-odd",v=s+"-table-column-header-tr",R=s+"-table-column-headers",y=s+"-table-column-header-cell",w=s+"-table-column-name",S=s+"-table-column-name-text",b=s+"-table-container",E=s+"-table-dragging",L=s+"-table-editable-name",T=s+"-table-editable-text",I=s+"-table-focus-region",H=s+"-table-has-interaction-bar",x=s+"-table-has-reorder-handle",_=s+"-table-header",M=s+"-table-header-active",F=s+"-table-header-content",O=s+"-table-header-reorderable",D=s+"-table-header-selected",A=s+"-table-horizontal-cell-divider",z=s+"-table-horizontal-guide",k=s+"-table-interaction-bar",U=s+"-table-last-in-column",N=s+"-table-last-in-row",P=s+"-table-menu",W=s+"-table-no-horizontal-scroll",G=s+"-table-no-rows",q=s+"-table-no-vertical-scroll",B=s+"-table-no-wrap-text",V=s+"-table-null",K=s+"-table-overlay",Q=s+"-table-overlay-layer",j=s+"-table-reordering-cursor-overlay",Y=s+"-table-popover-whitespace-normal",X=s+"-table-popover-whitespace-pre",Z=s+"-table-quadrant",J=s+"-table-quadrant-body-container",$=s+"-table-quadrant-left",ee=s+"-table-quadrant-main",te=s+"-table-quadrant-scroll-container",ne=s+"-table-quadrant-stack",oe=s+"-table-quadrant-top",re=s+"-table-quadrant-top-left",le=s+"-table-region",ie=s+"-table-reorder-handle",ae=s+"-table-reorder-handle-target",se=s+"-table-reordering",ue=s+"-table-resize-guides",de=s+"-table-resize-handle",ce=s+"-table-resize-handle-target",he=s+"-table-resize-horizontal",pe=s+"-table-resize-sensor",fe=s+"-table-resize-sensor-expand",ge=s+"-table-resize-sensor-shrink",me=s+"-table-resize-vertical",Ce=s+"-table-row-headers",ve=s+"-table-row-headers-cells-container",Re=s+"-table-row-name",ye=s+"-table-row-name-text",we=s+"-table-selection-enabled",Se=s+"-table-selection-region",be=s+"-table-th-menu",Ee=s+"-table-th-menu-container",Le=s+"-table-th-menu-container-background",Te=s+"-table-th-menu-open",Ie=s+"-table-thead",He=s+"-table-top-container",xe=s+"-table-truncated-cell",_e=s+"-table-truncated-format",Me=s+"-table-truncated-format-text",Fe=s+"-table-truncated-popover",Oe=s+"-table-truncated-popover-target",De=s+"-table-truncated-text",Ae=s+"-table-truncated-value",ze=s+"-table-vertical-guide";function ke(e,t){if(null!=t)return"number"==typeof t?""+e+t:0===t.indexOf(e)?t:""+e+t}function Ue(e){return ke(s+"-table-col-",e)}function Ne(e){return ke(s+"-table-row-",e)}function Pe(e){return ke(s+"-table-cell-col-",e)}function We(e){return ke(s+"-table-cell-row-",e)}var Ge=function(e){function t(t){var n=e.call(this,t)||this;return n.style=n.calculateStyle(t.variableLength),n}return o.__extends(t,e),t.prototype.componentDidUpdate=function(e){(!e.loading&&this.props.loading||e.variableLength!==this.props.variableLength)&&(this.style=this.calculateStyle(this.props.variableLength))},t.prototype.render=function(){return this.props.loading?i.createElement("div",{className:a.Classes.SKELETON,style:this.style}):i.Children.only(this.props.children)},t.prototype.calculateStyle=function(e){return{width:(e?75-5*Math.floor(11*Math.random()):100)+"%"}},t}(i.PureComponent),qe="bp-table-text-no-measure",Be=["font-style","font-variant","font-weight","font-size","font-family"],Ve={times:function(e,t){if(e<0)throw new Error("[Blueprint] times() cannot be called with negative numbers.");for(var n=Array(e),o=0;o<e;o++)n[o]=t(o);return n},accumulate:function(e){for(var t=[],n=0,o=0,r=e;o<r.length;o++){n+=r[o],t.push(n)}return t},toBase26Alpha:function(e){for(var t="";;){var n=e%26;if(t=String.fromCharCode(65+n)+t,(e-=n)<=0)return t;e=e/26-1}},toBase26CellName:function(e,t){return""+Ve.toBase26Alpha(t)+(e+1)},binarySearch:function(e,t,n){for(var o=0;o<t;){var r=Math.floor((o+t)/2);n(r)<e?o=r+1:t=r}return t},arrayOfLength:function(e,t,n){if(e.length>t)return e.slice(0,t);for(e=e.slice();e.length<t;)e.push(n);return e},assignSparseValues:function(e,t){if(null==t||e.length!==t.length)return e;e=e.slice();for(var n=0;n<e.length;n++){var o=t[n];null!=o&&(e[n]=o)}return e},measureElementTextContent:function(e){var t=document.createElement("canvas").getContext("2d"),n=getComputedStyle(e,null);return t.font=Be.map(function(e){return n.getPropertyValue(e)}).join(" "),function(e,t){var n,o,r=t.querySelector("."+qe);null!=r&&(n=r.parentElement,o=r.nextSibling,n.removeChild(r));var l=e.measureText(t.textContent);null!=r&&n.insertBefore(r,o);return l}(t,e)},clamp:function(e,t,n){return null!=t&&e<t&&(e=t),null!=n&&e>n&&(e=n),e},guideIndexToReorderedIndex:function(e,t,n){return t<e?t:e<=t&&t<e+n?e:Math.max(0,t-n)},reorderedIndexToGuideIndex:function(e,t,n){return t<=e?t:t+n},reorderArray:function(e,t,n,o){if(void 0===o&&(o=1),0===o||o===e.length||t===n)return e.slice();if(!(o<0||o>e.length||t+o>e.length)){for(var r=e.slice(0,t),l=e.slice(t,t+o),i=e.slice(t+o),a=[],s=0,u=0,d=0,c=0;s<n;)u<r.length?(a.push(r[u]),u+=1):(a.push(i[c]),c+=1),s+=1;for(;d<o;)a.push(l[d]),d+=1,s+=1;for(;s<e.length;)u<r.length?(a.push(r[u]),u+=1):(a.push(i[c]),c+=1),s+=1;return a}},isLeftClick:function(e){return 0===e.button},getApproxCellHeight:function(e,t,n,o,r,l){var i=null==e?0:e.length,a=(t-r)/n;return(Math.ceil(i/a)+l)*o}};var Ke,Qe=function(){function e(e,t,n,o){this.left=e,this.top=t,this.width=n,this.height=o}return e.union=function(t,n){var o=e.wrap(t),r=e.wrap(n),l=Math.min(o.top,r.top),i=Math.min(o.left,r.left),a=Math.max(o.top+o.height,r.top+r.height);return new e(i,l,Math.max(o.left+o.width,r.left+r.width)-i,a-l)},e.subtractOrigin=function(t,n){var o=e.wrap(t),r=e.wrap(n);return new e(o.left-r.left,o.top-r.top,o.width,o.height)},e.style=function(e){return{height:e.height+"px",left:e.left+"px",position:"absolute",top:e.top+"px",width:e.width+"px"}},e.wrap=function(t){return t instanceof e?t:new e(t.left,t.top,t.width,t.height)},e.prototype.subtractOrigin=function(t){return e.subtractOrigin(this,t)},e.prototype.union=function(t){return e.union(this,t)},e.prototype.style=function(){return e.style(this)},e.prototype.sizeStyle=function(){return{height:this.height+"px",width:this.width+"px"}},e.prototype.containsX=function(e){return e>=this.left&&e<=this.left+this.width},e.prototype.containsY=function(e){return e>=this.top&&e<=this.top+this.height},e.prototype.equals=function(e){return null!=e&&this.left===e.left&&this.top===e.top&&this.width===e.width&&this.height===e.height},e.ORIGIN=new e(0,0,0,0),e}(),je=function(){function e(e,t,n){var o=this;this.tableElement=e,this.scrollContainerElement=t,this.cellContainerElement=n,this.convertCellIndexToClientX=function(e){return o.grid.getCumulativeWidthAt(e)},this.convertCellMidpointToClientX=function(e){return(o.grid.getCumulativeWidthBefore(e)+o.grid.getCumulativeWidthAt(e))/2},this.convertCellIndexToClientY=function(e){return o.grid.getCumulativeHeightAt(e)},this.convertCellMidpointToClientY=function(e){return(o.grid.getCumulativeHeightBefore(e)+o.grid.getCumulativeHeightAt(e))/2},this.toGridX=function(e){var t=o.cellContainerElement.getBoundingClientRect().left,n=o.scrollContainerElement.scrollLeft,r=e-(t+n);return null!=o.numFrozenColumns&&o.numFrozenColumns>0&&r<=o.grid.getCumulativeWidthBefore(o.numFrozenColumns)?r:r+n},this.toGridY=function(e){var t=o.cellContainerElement.getBoundingClientRect().top,n=o.scrollContainerElement.scrollTop,r=e-(t+n);return null!=o.numFrozenRows&&o.numFrozenRows>0&&r<=o.grid.getCumulativeHeightBefore(o.numFrozenRows)?r:r+n},this.numFrozenRows=0,this.numFrozenColumns=0}return e.prototype.setGrid=function(e){return this.grid=e,this},e.prototype.setNumFrozenRows=function(e){return this.numFrozenRows=e,this},e.prototype.setNumFrozenColumns=function(e){return this.numFrozenColumns=e,this},e.prototype.getViewportRect=function(){return new Qe(this.scrollContainerElement.scrollLeft,this.scrollContainerElement.scrollTop,this.scrollContainerElement.clientWidth,this.scrollContainerElement.clientHeight)},e.prototype.getWidestVisibleCellInColumn=function(t){for(var n=this.getColumnCellSelector(t),o=this.tableElement.querySelectorAll(n),r=0,l=0;l<o.length;l++){var i=Ve.measureElementTextContent(o.item(l)).width,a=Math.ceil(i)+2*e.CELL_HORIZONTAL_PADDING;a>r&&(r=a)}return r},e.prototype.getTallestVisibleCellInColumn=function(e){for(var t=this.getColumnCellSelector(e),n=this.tableElement.querySelectorAll(t+"."+h),o=0,r=0;r<n.length;r++){var l=n.item(r),i=l.querySelector("."+Ae),a=l.querySelector("."+Me),s=l.querySelector("."+De),u=0;(u=null!=i?i.scrollHeight:null!=a?a.scrollHeight:null!=s?s.scrollHeight:l.scrollHeight)>o&&(o=u)}return o},e.prototype.convertPointToColumn=function(e,t){if(!this.getTableRect().containsX(e))return-1;var n=this.toGridX(e),o=t?this.grid.numCols:this.grid.numCols-1,r=t?this.convertCellMidpointToClientX:this.convertCellIndexToClientX;return Ve.binarySearch(n,o,r)},e.prototype.convertPointToRow=function(e,t){if(!this.getTableRect().containsY(e))return-1;var n=this.toGridY(e),o=t?this.grid.numRows:this.grid.numRows-1,r=t?this.convertCellMidpointToClientY:this.convertCellIndexToClientY;return Ve.binarySearch(n,o,r)},e.prototype.convertPointToCell=function(e,t){var n=this.toGridX(e),o=this.toGridY(t);return{col:Ve.binarySearch(n,this.grid.numCols-1,this.convertCellIndexToClientX),row:Ve.binarySearch(o,this.grid.numRows-1,this.convertCellIndexToClientY)}},e.prototype.getColumnCellSelector=function(e){return"."+(e<this.numFrozenColumns?$:ee)+" ."+Pe(e)},e.prototype.getTableRect=function(){return Qe.wrap(this.tableElement.getBoundingClientRect())},e.CELL_HORIZONTAL_PADDING=10,e}();!function(e){e.ALWAYS="always",e.NEVER="never",e.WHEN_TRUNCATED="when-truncated",e.WHEN_TRUNCATED_APPROX="when-truncated-approx"}(Ke||(Ke={}));var Ye,Xe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isPopoverOpen:!1,isTruncated:!1},t.handleContentDivRef=function(e){return t.contentDiv=e},t.handlePopoverOpen=function(){t.setState({isPopoverOpen:!0})},t.handlePopoverClose=function(){t.setState({isPopoverOpen:!1})},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.setTruncationState()},t.prototype.componentDidUpdate=function(){this.setTruncationState()},t.prototype.render=function(){var e=this.props,t=e.children,n=e.detectTruncation,o=e.truncateLength,r=e.truncationSuffix,a=""+t,s=a;if(!n&&o>0&&s.length>o&&(s=s.substring(0,o)+r),this.shouldShowPopover(a)){var u=l()(this.props.className,_e);return i.createElement("div",{className:u},i.createElement("div",{className:Ae,ref:this.handleContentDivRef},s),this.renderPopover())}u=l()(this.props.className,Me);return i.createElement("div",{className:u,ref:this.handleContentDivRef},s)},t.prototype.renderPopover=function(){var e=this.props,t=e.children,n=e.preformatted;if(this.state.isPopoverOpen){var o=l()(Fe,n?X:Y),r=i.createElement("div",{className:o},t);return i.createElement(a.Popover,{className:Oe,modifiers:{preventOverflow:{boundariesElement:"window"}},content:r,position:a.Position.BOTTOM,isOpen:!0,onClose:this.handlePopoverClose},i.createElement(a.Icon,{icon:"more"}))}return i.createElement("span",{className:Oe,onClick:this.handlePopoverOpen},i.createElement(a.Icon,{icon:"more"}))},t.prototype.shouldShowPopover=function(e){var t=this.props,n=t.detectTruncation,o=t.measureByApproxOptions,r=t.showPopover,l=t.truncateLength;switch(r){case Ke.ALWAYS:return!0;case Ke.NEVER:return!1;case Ke.WHEN_TRUNCATED:return n?this.state.isTruncated:l>0&&e.length>l;case Ke.WHEN_TRUNCATED_APPROX:if(!n)return l>0&&e.length>l;if(null==this.props.parentCellHeight||null==this.props.parentCellWidth)return!1;var i=o.approximateCharWidth,a=o.approximateLineHeight,s=o.cellHorizontalPadding,u=o.numBufferLines,d=this.props.parentCellWidth;return Ve.getApproxCellHeight(e,d,i,a,s,u)>this.props.parentCellHeight;default:return!1}},t.prototype.setTruncationState=function(){if(this.props.detectTruncation&&this.props.showPopover===Ke.WHEN_TRUNCATED)if(void 0!==this.contentDiv){var e=this.state.isTruncated,t=this.contentDiv,n=t.clientHeight,o=t.clientWidth,r=t.scrollHeight,l=t.scrollWidth,i=e?l-25:l,a=e&&i===o||i>o||r>n;this.setState({isTruncated:a})}else this.setState({isTruncated:!1})},t.displayName=a.DISPLAYNAME_PREFIX+".TruncatedFormat",t.defaultProps={detectTruncation:!1,measureByApproxOptions:{approximateCharWidth:8,approximateLineHeight:18,cellHorizontalPadding:2*je.CELL_HORIZONTAL_PADDING,numBufferLines:0},preformatted:!1,showPopover:Ke.WHEN_TRUNCATED,truncateLength:2e3,truncationSuffix:"..."},t}(i.PureComponent),Ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e,t=this.props,n=t.children,r=t.omitQuotesOnStrings,a=t.stringify,s=this.props.showPopover,u=null==n;u&&(s=Ke.NEVER);var d=l()(this.props.className,((e={})[V]=u,e)),c="";return c=r&&"string"==typeof n?n:a(n),i.createElement(Xe,o.__assign({},this.props,{className:d,showPopover:s}),c)},t.displayName=a.DISPLAYNAME_PREFIX+".JSONFormat",t.defaultProps={omitQuotesOnStrings:!0,stringify:function(e){return JSON.stringify(e,null,2)}},t}(i.Component),Je=function(){return i.createElement($e,null)},$e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.shouldComponentUpdate=function(e){return!a.Utils.shallowCompareKeys(this.props,e,{exclude:["style"]})||!a.Utils.deepCompareKeys(this.props.style,e.style)},t.prototype.render=function(){var e,t,n=this.props,r=n.cellRef,s=n.tabIndex,u=n.onKeyDown,d=n.onKeyUp,c=n.onKeyPress,p=n.style,f=n.intent,m=n.interactive,C=n.loading,v=n.tooltip,R=n.truncated,y=n.className,w=n.wrapText,S=l()(h,a.Classes.intentClass(f),((e={})[g]=m,e[a.Classes.LOADING]=C,e[xe]=R,e),y),b=l()(((t={})[De]=R,t[B]=!w,t)),E=i.Children.map(this.props.children,function(e){return null!=p&&i.isValidElement(e)||a.Utils.isElementOfType(e,Xe)||a.Utils.isElementOfType(e,Ze)?i.cloneElement(e,{parentCellHeight:parseInt(p.height.toString(),10),parentCellWidth:parseInt(p.width.toString(),10)}):e}),L=i.createElement("div",{className:b},E);return i.createElement("div",o.__assign({className:S,title:v,ref:r},{style:p,tabIndex:s,onKeyDown:u,onKeyUp:d,onKeyPress:c}),i.createElement(Ge,{loading:C,variableLength:!0},L))},t.displayName=a.DISPLAYNAME_PREFIX+".Cell",t.defaultProps={truncated:!0,wrapText:!1},t}(i.Component),et=n(4),tt=function(){function e(){var t=this;this.handleMouseDown=function(e){if((t.initCoordinateData(e),null!=t.handler&&null!=t.handler.onActivate)&&!1===t.handler.onActivate(e))return;t.isActivated=!0,t.maybeAlterEventChain(e),t.detachDocumentEventListeners(),t.attachDocumentEventListeners()},this.handleMouseMove=function(e){if(t.maybeAlterEventChain(e),t.isActivated&&(t.isDragging=!0),t.isDragging){var n=t.updateCoordinateData(e);null!=t.handler&&null!=t.handler.onDragMove&&t.handler.onDragMove(e,n)}},this.handleMouseUp=function(n){if(t.maybeAlterEventChain(n),null!=t.handler)if(t.isDragging){var o=t.updateCoordinateData(n);null!=t.handler.onDragMove&&t.handler.onDragMove(n,o),null!=t.handler.onDragEnd&&t.handler.onDragEnd(n,o)}else t.isActivated&&(null!=t.handler.onDoubleClick?null==t.doubleClickTimeoutToken?t.doubleClickTimeoutToken=window.setTimeout(function(){delete t.doubleClickTimeoutToken,null!=t.handler.onClick&&t.handler.onClick(n)},e.DOUBLE_CLICK_TIMEOUT_MSEC):(window.clearTimeout(t.doubleClickTimeoutToken),delete t.doubleClickTimeoutToken,t.handler.onDoubleClick(n)):null!=t.handler.onClick&&t.handler.onClick(n));t.isActivated=!1,t.isDragging=!1,t.detachDocumentEventListeners()}}return e.isAdditive=function(e){return e.ctrlKey||e.metaKey},e.prototype.attach=function(e,t){return this.detach(),this.handler=t,this.element=e,this.isValidDragHandler(t)&&this.element.addEventListener("mousedown",this.handleMouseDown),this},e.prototype.detach=function(){null!=this.element&&(this.element.removeEventListener("mousedown",this.handleMouseDown),this.detachDocumentEventListeners())},e.prototype.isValidDragHandler=function(e){return null!=e&&(null!=e.onActivate||null!=e.onDragMove||null!=e.onDragEnd||null!=e.onClick||null!=e.onDoubleClick)},e.prototype.attachDocumentEventListeners=function(){document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)},e.prototype.detachDocumentEventListeners=function(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)},e.prototype.initCoordinateData=function(e){this.activationCoordinates=[e.clientX,e.clientY],this.lastCoordinates=this.activationCoordinates},e.prototype.updateCoordinateData=function(e){var t=[e.clientX,e.clientY],n=[t[0]-this.lastCoordinates[0],t[1]-this.lastCoordinates[1]],o=[t[0]-this.activationCoordinates[0],t[1]-this.activationCoordinates[1]],r={activation:this.activationCoordinates,current:t,delta:n,last:this.lastCoordinates,offset:o};return this.lastCoordinates=[e.clientX,e.clientY],r},e.prototype.maybeAlterEventChain=function(e){this.handler.preventDefault&&e.preventDefault(),this.handler.stopPropagation&&e.stopPropagation()},e.DOUBLE_CLICK_TIMEOUT_MSEC=500,e}(),nt=["stopPropagation","preventDefault"],ot=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return i.Children.only(this.props.children)},t.prototype.componentDidUpdate=function(e){var t={include:nt};this.events&&!a.Utils.shallowCompareKeys(e,this.props,t)&&this.events.attach(et.findDOMNode(this),this.props)},t.prototype.componentDidMount=function(){this.events=new tt,this.events.attach(et.findDOMNode(this),this.props)},t.prototype.componentWillUnmount=function(){this.events.detach(),delete this.events},t.defaultProps={preventDefault:!0,stopPropagation:!1},t}(i.PureComponent),rt=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.refHandlers={cell:function(e){o.cellRef=e}},o.handleKeyPress=function(){!o.state.isEditing&&o.props.isFocused&&o.setState({isEditing:!0,dirtyValue:"",savedValue:o.state.savedValue})},o.handleEdit=function(){o.setState({isEditing:!0,dirtyValue:o.state.savedValue})},o.handleCancel=function(e){o.setState({isEditing:!1,dirtyValue:void 0}),o.invokeCallback(o.props.onCancel,e)},o.handleChange=function(e){o.setState({dirtyValue:e}),o.invokeCallback(o.props.onChange,e)},o.handleConfirm=function(e){o.setState({isEditing:!1,savedValue:e,dirtyValue:void 0}),o.invokeCallback(o.props.onConfirm,e)},o.handleCellActivate=function(e){return!0},o.handleCellDoubleClick=function(e){o.handleEdit()},o.state={isEditing:!1,savedValue:t.value},o}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.checkShouldFocus()},t.prototype.componentDidUpdate=function(e){var t=!a.Utils.shallowCompareKeys(this.props,e,{exclude:["style"]})||!a.Utils.deepCompareKeys(this.props,e,["style"]),n=this.props.value;t&&null!=n&&this.setState({savedValue:n,dirtyValue:n}),this.checkShouldFocus()},t.prototype.shouldComponentUpdate=function(e,t){return!a.Utils.shallowCompareKeys(this.props,e,{exclude:["style"]})||!a.Utils.shallowCompareKeys(this.state,t)||!a.Utils.deepCompareKeys(this.props,e,["style"])},t.prototype.render=function(){var e,t=this.props,n=(t.onCancel,t.onChange,t.onConfirm,t.truncated),r=t.wrapText,s=t.editableTextProps,u=o.__rest(t,["onCancel","onChange","onConfirm","truncated","wrapText","editableTextProps"]),d=this.state,c=d.isEditing,h=d.dirtyValue,p=d.savedValue,f=u.interactive||c,g=null;if(c){var m=s?s.className:null;g=i.createElement(a.EditableText,o.__assign({},s,{isEditing:!0,className:l()(T,L,m),intent:u.intent,minWidth:null,onCancel:this.handleCancel,onChange:this.handleChange,onConfirm:this.handleConfirm,onEdit:this.handleEdit,placeholder:"",selectAllOnFocus:!1,value:h}))}else{var C=l()(T,((e={})[De]=n,e[B]=!r,e));g=i.createElement("div",{className:C},p)}return i.createElement($e,o.__assign({},u,{wrapText:r,truncated:!1,interactive:f,cellRef:this.refHandlers.cell,onKeyPress:this.handleKeyPress}),i.createElement(ot,{onActivate:this.handleCellActivate,onDoubleClick:this.handleCellDoubleClick,preventDefault:!1,stopPropagation:f},g))},t.prototype.renderHotkeys=function(){var e=this.props.tabIndex;return i.createElement(a.Hotkeys,{tabIndex:e},i.createElement(a.Hotkey,{key:"edit-cell",label:"Edit the currently focused cell",group:"Table",combo:"f2",onKeyDown:this.handleEdit}))},t.prototype.checkShouldFocus=function(){this.props.isFocused&&!this.state.isEditing&&this.cellRef.focus()},t.prototype.invokeCallback=function(e,t){var n=this.props,o=n.rowIndex,r=n.columnIndex;a.Utils.safeInvoke(e,t,o,r)},t.displayName=a.DISPLAYNAME_PREFIX+".EditableCell",t.defaultProps={truncated:!0,wrapText:!1},t=o.__decorate([a.HotkeysTarget],t)}(i.Component),lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.displayName=a.DISPLAYNAME_PREFIX+".Column",t.defaultProps={cellRenderer:Je},t}(i.PureComponent),it={applySelectableStyles:function(e){return e.style.overflow="hidden",e.style.height="0px",e.style.setProperty("-webkit-user-select","all"),e.style.setProperty("-moz-user-select","all"),e.style.setProperty("-ms-user-select","all"),e.style.setProperty("user-select","all"),e},copyCells:function(e){var t=document.createElement("table");it.applySelectableStyles(t);for(var n=0,o=e;n<o.length;n++)for(var r=o[n],l=t.appendChild(document.createElement("tr")),i=0,a=r;i<a.length;i++){var s=a[i];l.appendChild(document.createElement("td")).textContent=s}var u=e.map(function(e){return e.join("\t")}).join("\n");return it.copyElement(t,u)},copyString:function(e){var t=document.createElement("textarea");return it.applySelectableStyles(t),t.value=e,it.copyElement(t,e)},copyElement:function(e,t){if(!it.isCopySupported())return!1;document.body.appendChild(e);try{return window.getSelection().selectAllChildren(e),null!=t&&e.addEventListener("copy",function(e){e.preventDefault();var n=e.clipboardData||window.clipboardData;null!=n&&n.setData("text",t)}),document.execCommand("copy")}catch(e){return!1}finally{document.body.removeChild(e)}},isCopySupported:function(){return null!=document.queryCommandSupported&&document.queryCommandSupported("copy")}};!function(e){e.CELLS="cells",e.FULL_ROWS="full-rows",e.FULL_COLUMNS="full-columns",e.FULL_TABLE="full-table"}(Ye||(Ye={}));var at,st,ut,dt={ALL:[Ye.FULL_TABLE,Ye.FULL_COLUMNS,Ye.FULL_ROWS,Ye.CELLS],COLUMNS_AND_CELLS:[Ye.FULL_COLUMNS,Ye.CELLS],COLUMNS_ONLY:[Ye.FULL_COLUMNS],NONE:[],ROWS_AND_CELLS:[Ye.FULL_ROWS,Ye.CELLS],ROWS_ONLY:[Ye.FULL_ROWS]};!function(e){e.CELLS="cells",e.HEADER="column-header"}(at||(at={})),function(e){e.CELLS="cells",e.HEADER="row-header"}(st||(st={})),function(e){e.CELLS="cells",e.COLUMN_HEADERS="column-header",e.ROW_HEADERS="row-header"}(ut||(ut={}));var ct=function(){function e(){}return e.getRegionCardinality=function(e){return null!=e.cols&&null!=e.rows?Ye.CELLS:null!=e.cols?Ye.FULL_COLUMNS:null!=e.rows?Ye.FULL_ROWS:Ye.FULL_TABLE},e.getFocusCellCoordinatesFromRegion=function(t){switch(e.getRegionCardinality(t)){case Ye.FULL_TABLE:return{col:0,row:0};case Ye.FULL_COLUMNS:return{col:t.cols[0],row:0};case Ye.FULL_ROWS:return{col:0,row:t.rows[0]};case Ye.CELLS:return{col:t.cols[0],row:t.rows[0]};default:return null}},e.copy=function(t){var n=e.getRegionCardinality(t);return n===Ye.CELLS?e.cell(t.rows[0],t.cols[0],t.rows[1],t.cols[1]):n===Ye.FULL_COLUMNS?e.column(t.cols[0],t.cols[1]):n===Ye.FULL_ROWS?e.row(t.rows[0],t.rows[1]):e.table()},e.cell=function(e,t,n,o){return{cols:this.normalizeInterval(t,o),rows:this.normalizeInterval(e,n)}},e.row=function(e,t){return{rows:this.normalizeInterval(e,t)}},e.column=function(e,t){return{cols:this.normalizeInterval(e,t)}},e.table=function(){return{}},e.add=function(e,t){var n=e.slice();return n.push(t),n},e.update=function(e,t,n){var o=e.slice();return null!=n?o.splice(n,1,t):(o.pop(),o.push(t)),o},e.clampRegion=function(t,n,o){var r=e.copy(t);return null!=t.rows&&(r.rows[0]=Ve.clamp(t.rows[0],0,n),r.rows[1]=Ve.clamp(t.rows[1],0,n)),null!=t.cols&&(r.cols[0]=Ve.clamp(t.cols[0],0,o),r.cols[1]=Ve.clamp(t.cols[1],0,o)),r},e.lastRegionIsEqual=function(t,n){if(null==t||0===t.length)return!1;var o=t[t.length-1];return e.regionsEqual(o,n)},e.findMatchingRegion=function(t,n){if(null==t)return-1;for(var o=0;o<t.length;o++)if(e.regionsEqual(t[o],n))return o;return-1},e.findContainingRegion=function(t,n){if(null==t)return-1;for(var o=0;o<t.length;o++)if(e.regionContains(t[o],n))return o;return-1},e.hasFullColumn=function(t,n){if(null==t)return!1;for(var o=0,r=t;o<r.length;o++){var l=r[o],i=e.getRegionCardinality(l);if(i===Ye.FULL_TABLE)return!0;if(i===Ye.FULL_COLUMNS&&e.intervalContainsIndex(l.cols,n))return!0}return!1},e.hasFullRow=function(t,n){if(null==t)return!1;for(var o=0,r=t;o<r.length;o++){var l=r[o],i=e.getRegionCardinality(l);if(i===Ye.FULL_TABLE)return!0;if(i===Ye.FULL_ROWS&&e.intervalContainsIndex(l.rows,n))return!0}return!1},e.hasFullTable=function(t){if(null==t)return!1;for(var n=0,o=t;n<o.length;n++){var r=o[n];if(e.getRegionCardinality(r)===Ye.FULL_TABLE)return!0}return!1},e.containsRegion=function(t,n){return e.overlapsRegion(t,n,!1)},e.overlapsRegion=function(t,n,o){void 0===o&&(o=!1);var r=o?e.intervalOverlaps:e.intervalContains;if(null==t||null==n)return!1;for(var l=0,i=t;l<i.length;l++){var a=i[l];switch(e.getRegionCardinality(a)){case Ye.FULL_TABLE:return!0;case Ye.FULL_COLUMNS:if(r(a.cols,n.cols))return!0;continue;case Ye.FULL_ROWS:if(r(a.rows,n.rows))return!0;continue;case Ye.CELLS:if(r(a.cols,n.cols)&&r(a.rows,n.rows))return!0;continue}}return!1},e.eachUniqueFullColumn=function(t,n){if(null!=t&&0!==t.length&&null!=n){var o={};t.forEach(function(t){if(e.getRegionCardinality(t)===Ye.FULL_COLUMNS)for(var r=t.cols,l=r[0],i=r[1],a=l;a<=i;a++)o[a]||(o[a]=!0,n(a))})}},e.eachUniqueFullRow=function(t,n){if(null!=t&&0!==t.length&&null!=n){var o={};t.forEach(function(t){if(e.getRegionCardinality(t)===Ye.FULL_ROWS)for(var r=t.rows,l=r[0],i=r[1],a=l;a<=i;a++)o[a]||(o[a]=!0,n(a))})}},e.enumerateUniqueCells=function(t,n,o){if(null==t||0===t.length)return[];for(var r={},l=[],i=0,a=t;i<a.length;i++){var s=a[i];e.eachCellInRegion(s,n,o,function(e,t){var n=e+"-"+t;!0!==r[n]&&(r[n]=!0,l.push([e,t]))})}return l.sort(e.rowFirstComparator),l},e.getCellRegionFromRegion=function(t,n,o){switch(e.getRegionCardinality(t)){case Ye.FULL_TABLE:return e.cell(0,0,n-1,o-1);case Ye.FULL_COLUMNS:return e.cell(0,t.cols[0],n-1,t.cols[1]);case Ye.FULL_ROWS:return e.cell(t.rows[0],0,t.rows[1],o-1);case Ye.CELLS:return e.cell(t.rows[0],t.cols[0],t.rows[1],t.cols[1]);default:return null}},e.sparseMapCells=function(t,n){var o=e.getBoundingRegion(t);if(null==o)return null;var r=o.rows[1]+1-o.rows[0],l=o.cols[1]+1-o.cols[0],i=Ve.times(r,function(){return new Array(l)});return t.forEach(function(e){var t=e[0],r=e[1];i[t-o.rows[0]][r-o.cols[0]]=n(t,r)}),i},e.getBoundingRegion=function(e){for(var t,n,o,r,l=0,i=e;l<i.length;l++){var a=i[l],s=a[0],u=a[1];t=null==t||s<t?s:t,n=null==n||s>n?s:n,o=null==o||u<o?u:o,r=null==r||u>r?u:r}return null==t?null:{cols:[o,r],rows:[t,n]}},e.isValid=function(e){return null!=e&&((null==e.rows||!(e.rows[0]<0||e.rows[1]<0))&&(null==e.cols||!(e.cols[0]<0||e.cols[1]<0)))},e.isRegionValidForTable=function(e,t,n){return 0!==t&&0!==n&&(!(null!=e.rows&&!ht(e.rows,0,t-1))&&!(null!=e.cols&&!ht(e.cols,0,n-1)))},e.joinStyledRegionGroups=function(t,n,o){var r=[];return null!=n&&(r=r.concat(n)),null!=t&&t.length>0&&r.push({className:Se,regions:t}),null!=o&&r.push({className:I,regions:[e.cell(o.row,o.col)]}),r},e.regionsEqual=function(t,n){return e.intervalsEqual(t.rows,n.rows)&&e.intervalsEqual(t.cols,n.cols)},e.expandRegion=function(t,n){var o=e.getRegionCardinality(t),r=e.getRegionCardinality(n);if(r!==o)return n;switch(r){case Ye.FULL_ROWS:var l=Math.min(t.rows[0],n.rows[0]),i=Math.max(t.rows[1],n.rows[1]);return e.row(l,i);case Ye.FULL_COLUMNS:var a=Math.min(t.cols[0],n.cols[0]),s=Math.max(t.cols[1],n.cols[1]);return e.column(a,s);case Ye.CELLS:l=Math.min(t.rows[0],n.rows[0]),a=Math.min(t.cols[0],n.cols[0]),i=Math.max(t.rows[1],n.rows[1]),s=Math.max(t.cols[1],n.cols[1]);return e.cell(l,a,i,s);default:return e.table()}},e.eachCellInRegion=function(t,n,o,r){switch(e.getRegionCardinality(t)){case Ye.FULL_TABLE:for(var l=0;l<n;l++)for(var i=0;i<o;i++)r(l,i);break;case Ye.FULL_COLUMNS:for(l=0;l<n;l++)for(i=t.cols[0];i<=t.cols[1];i++)r(l,i);break;case Ye.FULL_ROWS:for(l=t.rows[0];l<=t.rows[1];l++)for(i=0;i<o;i++)r(l,i);break;case Ye.CELLS:for(l=t.rows[0];l<=t.rows[1];l++)for(i=t.cols[0];i<=t.cols[1];i++)r(l,i)}},e.regionContains=function(t,n){return e.overlapsRegion([t],n,!1)},e.intervalsEqual=function(e,t){return null==e?null==t:null!=t&&(e[0]===t[0]&&e[1]===t[1])},e.intervalContainsIndex=function(e,t){return null!=e&&(e[0]<=t&&e[1]>=t)},e.intervalContains=function(e,t){return null!=e&&null!=t&&(e[0]<=t[0]&&t[1]<=e[1])},e.intervalOverlaps=function(e,t){return null!=e&&null!=t&&!(e[1]<t[0]||e[0]>t[1])},e.rowFirstComparator=function(e,t){var n=e[0]-t[0];return 0===n?e[1]-t[1]:n},e.numericalComparator=function(e,t){return e-t},e.normalizeInterval=function(t,n){null==n&&(n=t);var o=[t,n];return o.sort(e.numericalComparator),o},e}();function ht(e,t,n){return pt(e[0],t,n)&&pt(e[1],t,n)}function pt(e,t,n){return e>=t&&e<=n}var ft,gt=function(){function e(t,n,o,r,l){var i=this;void 0===o&&(o=e.DEFAULT_BLEED),void 0===r&&(r=e.DEFAULT_GHOST_HEIGHT),void 0===l&&(l=e.DEFAULT_GHOST_WIDTH),this.getCumulativeWidthBefore=function(e){return 0===e?0:i.getCumulativeWidthAt(e-1)},this.getCumulativeWidthAt=function(e){return 0===i.numCols?i.ghostWidth*e:e>=i.numCols?i.cumulativeColumnWidths[i.numCols-1]+i.ghostWidth*(e-i.numCols+1):i.cumulativeColumnWidths[e]},this.getCumulativeHeightBefore=function(e){return 0===e?0:i.getCumulativeHeightAt(e-1)},this.getCumulativeHeightAt=function(e){return 0===i.numRows?i.ghostHeight*e:e>=i.numRows?i.cumulativeRowHeights[i.numRows-1]+i.ghostHeight*(e-i.numRows+1):i.cumulativeRowHeights[e]},this.columnWidths=n,this.rowHeights=t,this.cumulativeColumnWidths=Ve.accumulate(n),this.cumulativeRowHeights=Ve.accumulate(t),this.numCols=n.length,this.numRows=t.length,this.bleed=o,this.ghostHeight=r,this.ghostWidth=l}return e.prototype.getCellRect=function(e,t){var n=this.rowHeights[e],o=this.cumulativeRowHeights[e]-n,r=this.columnWidths[t],l=this.cumulativeColumnWidths[t]-r;return new Qe(l,o,r,n)},e.prototype.getGhostCellRect=function(e,t){var n=0,o=0,r=0,l=0;return e>=this.rowHeights.length?(l=this.ghostHeight,o=this.getHeight()+this.ghostHeight*(e-this.numRows)):(l=this.rowHeights[e],o=this.cumulativeRowHeights[e]-l),t>=this.columnWidths.length?(r=this.ghostWidth,n=this.getWidth()+this.ghostWidth*(t-this.numCols)):(r=this.columnWidths[t],n=this.cumulativeColumnWidths[t]-r),new Qe(n,o,r,l)},e.prototype.getRowRect=function(e){var t=this.rowHeights[e],n=this.cumulativeRowHeights[e]-t;return new Qe(0,n,this.getWidth(),t)},e.prototype.getColumnRect=function(e){var t=this.columnWidths[e],n=this.cumulativeColumnWidths[e]-t;return new Qe(n,0,t,this.getHeight())},e.prototype.getWidth=function(){return 0===this.numCols?0:this.cumulativeColumnWidths[this.numCols-1]},e.prototype.getHeight=function(){return 0===this.numRows?0:this.cumulativeRowHeights[this.numRows-1]},e.prototype.getRect=function(){return new Qe(0,0,this.getWidth(),this.getHeight())},e.prototype.mapCellsInRect=function(e,t){var n=[];if(null==e)return n;for(var o=this.getRowIndicesInRect(e),r=o.rowIndexStart,l=o.rowIndexEnd,i=this.getColumnIndicesInRect(e),a=i.columnIndexStart,s=i.columnIndexEnd,u=r;u<=l;u++)for(var d=a;d<=s;d++)n.push(t(u,d));return n},e.prototype.mapRowsInRect=function(e,t){var n=[];if(null==e)return n;for(var o=this.getRowIndicesInRect(e),r=o.rowIndexStart,l=o.rowIndexEnd,i=r;i<=l;i++)n.push(t(i));return n},e.prototype.mapColumnsInRect=function(e,t){var n=[];if(null==e)return n;for(var o=this.getColumnIndicesInRect(e),r=o.columnIndexStart,l=o.columnIndexEnd,i=r;i<=l;i++)n.push(t(i));return n},e.prototype.getRowIndicesInRect=function(t,n,o){if(void 0===n&&(n=!1),void 0===o&&(o=e.DEFAULT_MAX_ROWS),null==t)return{rowIndexEnd:0,rowIndexStart:0};var r=n?Math.max(this.numRows,e.DEFAULT_MAX_ROWS):this.numRows,l=this.getIndicesInInterval(t.top,t.top+t.height,r,!n,this.getCumulativeHeightAt),i=l.start,a=l.end;return{rowIndexEnd:o>0&&a-i>o?i+o:a,rowIndexStart:i}},e.prototype.getColumnIndicesInRect=function(t,n,o){if(void 0===n&&(n=!1),void 0===o&&(o=e.DEFAULT_MAX_COLUMNS),null==t)return{columnIndexEnd:0,columnIndexStart:0};var r=n?Math.max(this.numCols,e.DEFAULT_MAX_COLUMNS):this.numCols,l=this.getIndicesInInterval(t.left,t.left+t.width,r,!n,this.getCumulativeWidthAt),i=l.start,a=l.end;return{columnIndexEnd:o>0&&a-i>o?i+o:a,columnIndexStart:i}},e.prototype.isGhostIndex=function(e,t){return e>=this.numRows||t>=this.numCols},e.prototype.isGhostColumn=function(e){return e>=this.numCols},e.prototype.getExtremaClasses=function(e,t,n,o){return e===n&&t===o?[U,N]:e===n?[U]:t===o?[N]:[]},e.prototype.getRegionStyle=function(e){switch(ct.getRegionCardinality(e)){case Ye.CELLS:var t=e.rows,n=t[0],r=t[1],l=e.cols,i=l[0],a=l[1];if(this.isGhostIndex(n,i)||this.isGhostIndex(r,a))return{display:"none"};var s=this.getCellRect(n,i),u=this.getCellRect(r,a),d=0===i?0:1,c=0===n?0:1;return(f=s.union(u)).height+=c,f.left-=d,f.width+=d,f.top-=c,o.__assign({},f.style(),{display:"block"});case Ye.FULL_COLUMNS:var h=e.cols;i=h[0],a=h[1];if(this.isGhostIndex(0,i)||this.isGhostIndex(0,a))return{display:"none"};s=this.getCellRect(0,i),u=this.getCellRect(0,a),d=0===i?0:1;return{bottom:0,display:"block",left:(f=s.union(u)).left-d,top:0,width:f.width+d};case Ye.FULL_ROWS:var p=e.rows;n=p[0],r=p[1];if(this.isGhostIndex(n,0)||this.isGhostIndex(r,0))return{display:"none"};var f;s=this.getCellRect(n,0),u=this.getCellRect(r,0),c=0===n?0:1;return{display:"block",height:(f=s.union(u)).height+c,left:0,right:0,top:f.top-c};case Ye.FULL_TABLE:return{bottom:0,display:"block",left:0,right:0,top:0};default:return{display:"none"}}},e.prototype.getIndicesInInterval=function(e,t,n,o,r){var l=Ve.binarySearch(e,n-1,r),i=Ve.binarySearch(t,n-1,r);return l>=0&&e===r(l)&&(l+=1),{start:l=Math.max(0,l-this.bleed),end:i=o?Math.min(n-1,i+this.bleed):Math.min(n-1,i)}},e.DEFAULT_BLEED=3,e.DEFAULT_MAX_COLUMNS=50,e.DEFAULT_MAX_ROWS=200,e.DEFAULT_GHOST_HEIGHT=20,e.DEFAULT_GHOST_WIDTH=150,e}();!function(e){e.BATCH="batch",e.BATCH_ON_UPDATE="batch-on-update",e.NONE="none"}(ft||(ft={}));var mt,Ct=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){var e=t.props,n=e.context,o=e.getCellData,r=e.onCopy,l=n.getUniqueCells(),i=ct.sparseMapCells(l,o),s=it.copyCells(i);a.Utils.safeInvoke(r,s)},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=(e.context,e.getCellData,e.onCopy,o.__rest(e,["context","getCellData","onCopy"]));return i.createElement(a.MenuItem,o.__assign({},t,{onClick:this.handleClick}))},t}(i.PureComponent);!function(e){e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=0]="VERTICAL"}(mt||(mt={}));var vt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isDragging:!1},t.handleActivate=function(e){return t.setState({isDragging:!0}),t.props.onLayoutLock(!0),e.stopPropagation(),e.stopImmediatePropagation(),!0},t.handleDragMove=function(e,n){var o=t.props.orientation;null!=t.props.onResizeMove&&t.props.onResizeMove(n.offset[o],n.delta[o])},t.handleDragEnd=function(e,n){var o=t.props.orientation;t.setState({isDragging:!1}),t.props.onLayoutLock(!1),null!=t.props.onResizeMove&&t.props.onResizeMove(n.offset[o],n.delta[o]),null!=t.props.onResizeEnd&&t.props.onResizeEnd(n.offset[o])},t.handleClick=function(e){t.setState({isDragging:!1}),t.props.onLayoutLock(!1)},t.handleDoubleClick=function(e){t.setState({isDragging:!1}),t.props.onLayoutLock(!1),null!=t.props.onDoubleClick&&t.props.onDoubleClick()},t}return o.__extends(t,e),t.prototype.render=function(){var e,t,n=this.props,o=n.onResizeMove,r=n.onResizeEnd,a=n.onDoubleClick,s=n.orientation;if(null!=o||null!=r||null!=a){var u=l()(ce,((e={})[E]=this.state.isDragging,e[he]=s===mt.HORIZONTAL,e[me]=s===mt.VERTICAL,e),this.props.className),d=l()(de,((t={})[E]=this.state.isDragging,t));return i.createElement(ot,{onActivate:this.handleActivate,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onDragEnd:this.handleDragEnd,onDragMove:this.handleDragMove},i.createElement("div",{className:u},i.createElement("div",{className:d})))}},t}(i.PureComponent),Rt="[Blueprint Table]",yt=Rt+" <Table> Cannot expand a FULL_COLUMNS selection using a multi-column region.",wt=Rt+" <Table> Cannot expand a FULL_COLUMNS selection using a multi-row region.";function St(e,t,n,r){if(e){if(null!=t)return t;if(null!=n)return n;if(r.length>0){var l=r.length-1;return o.__assign({},ct.getFocusCellCoordinatesFromRegion(r[l]),{focusSelectionIndex:l})}return{col:0,row:0,focusSelectionIndex:0}}}function bt(e,t){return void 0===t&&(t=0),o.__assign({},e,{focusSelectionIndex:t})}function Et(e,t,n,o){var r=e[n],l=t[o],i=l[0];if(i!==l[1]){if("rows"===o)throw new Error(wt);if("cols"===o)throw new Error(yt)}return r<=i?[r,i]:[i,r]}function Lt(e){var t="undefined"!=typeof navigator?navigator.platform:void 0,n=null!=e?e:t;return null!=n&&/Mac|iPod|iPhone|iPad/.test(n)}var Tt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.didExpandSelectionOnActivate=!1,t.handleActivate=function(e){var n=t.props,o=n.locateClick,r=n.selectedRegions,l=n.selectedRegionTransform;if(t.shouldIgnoreMouseDown(e))return!1;var i=o(e);if(!ct.isValid(i))return!1;null!=l&&(i=l(i,e));var a=ct.findMatchingRegion(r,i),s=-1!==a;return s&&tt.isAdditive(e)?(t.handleClearSelectionAtIndex(a),!1):(s?t.handleClearAllSelectionsNotAtIndex(a):t.shouldExpandSelection(e)?t.handleExpandSelection(i):t.shouldAddDisjointSelection(e)?t.handleAddDisjointSelection(i):t.handleReplaceSelection(i),!0)},t.handleDragMove=function(e,n){var o=t.props,r=o.enableMultipleSelection,l=o.focusedCell,i=o.locateClick,a=o.locateDrag,s=o.selectedRegions,u=o.selectedRegionTransform,d=r?a(e,n,t.didExpandSelectionOnActivate):i(e);if(ct.isValid(d)){null!=u&&(d=u(d,e,n));var c=t.didExpandSelectionOnActivate?t.expandSelectedRegions(s,d,l):ct.update(s,d);if(t.maybeInvokeSelectionCallback(c),!r){var h=c.length-1,p=c[h];t.invokeOnFocusCallbackForRegion(p,h)}}},t.handleDragEnd=function(){t.finishInteraction()},t.handleClick=function(){t.finishInteraction()},t.shouldExpandSelection=function(e){return t.props.enableMultipleSelection&&e.shiftKey},t.shouldAddDisjointSelection=function(e){return t.props.enableMultipleSelection&&tt.isAdditive(e)},t.handleClearSelectionAtIndex=function(e){var n=t.props.selectedRegions.slice();if(n.splice(e,1),t.maybeInvokeSelectionCallback(n),n.length>0){var o=n.length-1;t.invokeOnFocusCallbackForRegion(n[o],o)}},t.handleClearAllSelectionsNotAtIndex=function(e){var n=t.props.selectedRegions[e];t.maybeInvokeSelectionCallback([n]),t.invokeOnFocusCallbackForRegion(n,0)},t.handleExpandSelection=function(e){var n=t.props,o=n.focusedCell,r=n.selectedRegions;t.didExpandSelectionOnActivate=!0;var l=t.expandSelectedRegions(r,e,o);t.maybeInvokeSelectionCallback(l),null!=r&&0!==r.length||t.invokeOnFocusCallbackForRegion(e)},t.handleAddDisjointSelection=function(e){var n=t.props.selectedRegions,o=ct.add(n,e);t.maybeInvokeSelectionCallback(o),t.invokeOnFocusCallbackForRegion(e,o.length-1)},t.handleReplaceSelection=function(e){var n=[e];t.maybeInvokeSelectionCallback(n),t.invokeOnFocusCallbackForRegion(e)},t.invokeOnFocusCallbackForRegion=function(e,n){void 0===n&&(n=0),(0,t.props.onFocusedCell)(bt(ct.getFocusCellCoordinatesFromRegion(e),n))},t.finishInteraction=function(){a.Utils.safeInvoke(t.props.onSelectionEnd,t.props.selectedRegions),t.didExpandSelectionOnActivate=!1,t.lastEmittedSelectedRegions=null},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.getDraggableProps();return i.createElement(ot,o.__assign({},e,{preventDefault:!1}),this.props.children)},t.prototype.getDraggableProps=function(){return null==this.props.onSelection?{}:{onActivate:this.handleActivate,onClick:this.handleClick,onDragEnd:this.handleDragEnd,onDragMove:this.handleDragMove}},t.prototype.shouldIgnoreMouseDown=function(e){var t=this.props,n=t.disabled,o=t.ignoredSelectors,r=void 0===o?[]:o,l=e.target,i=Ve.isLeftClick(e),s=i&&e.ctrlKey&&Lt(),u=a.Utils.safeInvokeOrValue(n,e);return!i||s||u||r.some(function(e){return null!=l.closest(e)})},t.prototype.maybeInvokeSelectionCallback=function(e){var t=this.props.onSelection;null!=this.lastEmittedSelectedRegions&&a.Utils.deepCompareKeys(this.lastEmittedSelectedRegions,e)||(t(e),this.lastEmittedSelectedRegions=e)},t.prototype.expandSelectedRegions=function(e,t,n){if(0===e.length)return[t];if(null!=n){var o=function(e,t){switch(ct.getRegionCardinality(t)){case Ye.FULL_COLUMNS:var n=Et(e,t,"col","cols"),o=n[0],r=n[1];return ct.column(o,r);case Ye.FULL_ROWS:var l=Et(e,t,"row","rows");return o=l[0],r=l[1],ct.row(o,r);case Ye.CELLS:var i=Et(e,t,"row","rows"),a=i[0],s=i[1],u=Et(e,t,"col","cols"),d=u[0],c=u[1];return ct.cell(a,d,s,c);default:return ct.table()}}(n,t);return ct.update(e,o)}o=ct.expandRegion(e[e.length-1],t);return ct.update(e,o)},t.defaultProps={disabled:!1,enableMultipleSelection:!1,selectedRegions:[]},t}(i.PureComponent);function It(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function Ht(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function xt(e,t){try{var n=this.props,o=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}function _t(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,r=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?r="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(r="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==r){var l=e.displayName||e.name,i="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+i+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==r?"\n  "+r:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=It,t.componentWillReceiveProps=Ht),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=xt;var a=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var o=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;a.call(this,e,t,o)}}return e}It.__suppressDeprecationWarning=!0,Ht.__suppressDeprecationWarning=!0,xt.__suppressDeprecationWarning=!0;var Mt={enableColumnInteractionBar:n(6).bool},Ft=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isActive:!1},t}return o.__extends(t,e),t.prototype.shouldComponentUpdate=function(e){return!a.Utils.shallowCompareKeys(this.props,e,{exclude:["style"]})||!a.Utils.deepCompareKeys(this.props,e,["style"])},t.prototype.renderContextMenu=function(e){var t=this.props.menuRenderer;return a.Utils.isFunction(t)?t(this.props.index):void 0},t.prototype.render=function(){var e,t=l()(_,((e={})[M]=this.props.isActive||this.state.isActive,e[D]=this.props.isSelected,e[a.Classes.LOADING]=this.props.loading,e),this.props.className);return i.createElement("div",{className:t,style:this.props.style},this.props.children)},t=o.__decorate([a.ContextMenuTarget],t)}(i.Component);function Ot(){return i.createElement("div",{className:A})}var Dt,At=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isActive:!1},t.handlePopoverOpened=function(){return t.setState({isActive:!0})},t.handlePopoverClosing=function(){return t.setState({isActive:!1})},t}return o.__extends(t,e),t.isHeaderMouseTarget=function(e){return e.classList.contains(_)||e.classList.contains(w)||e.classList.contains(k)||e.classList.contains(F)},t.prototype.render=function(){var e,t=this.props,n=(t.enableColumnReordering,t.isColumnSelected,t.menuIcon,t.name,t.nameRenderer,o.__rest(t,["enableColumnReordering","isColumnSelected","menuIcon","name","nameRenderer"])),r=l()(n.className,y,((e={})[H]=this.context.enableColumnInteractionBar,e[x]=null!=this.props.reorderHandle,e));return i.createElement(Ft,o.__assign({isReorderable:this.props.enableColumnReordering,isSelected:this.props.isColumnSelected},n,{className:r}),this.renderName(),this.maybeRenderContent(),this.props.loading?void 0:this.props.resizeHandle)},t.prototype.renderName=function(){var e=this.props,t=e.index,n=e.loading,o=e.name,r=e.nameRenderer,l=e.reorderHandle,a=this.maybeRenderDropdownMenu(),s=i.createElement("div",{className:De},o),u=i.createElement(Ge,{loading:n,variableLength:!0},null==r?s:r(o,t));return this.context.enableColumnInteractionBar?i.createElement("div",{className:w,title:o},i.createElement("div",{className:k},l,a),i.createElement(Ot,null),i.createElement("div",{className:S},u)):i.createElement("div",{className:w,title:o},l,a,i.createElement("div",{className:S},u))},t.prototype.maybeRenderContent=function(){if(null!==this.props.children)return i.createElement("div",{className:F},this.props.children)},t.prototype.maybeRenderDropdownMenu=function(){var e,t=this.props,n=t.index,o=t.menuIcon,r=t.menuRenderer;if(a.Utils.isFunction(r)){var s=l()(Ee,((e={})[Te]=this.state.isActive,e));return i.createElement("div",{className:s},i.createElement("div",{className:Le}),i.createElement(a.Popover,{content:r(n),position:a.Position.BOTTOM,className:be,modifiers:{preventOverflow:{boundariesElement:"window"}},onOpened:this.handlePopoverOpened,onClosing:this.handlePopoverClosing},i.createElement(a.Icon,{icon:o})))}},t.defaultProps={isActive:!1,menuIcon:"chevron-down"},t.contextTypes=Mt,t=o.__decorate([_t],t)}(a.AbstractPureComponent2),zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=(e.enableRowReordering,e.isRowSelected,e.name),n=e.nameRenderer,r=o.__rest(e,["enableRowReordering","isRowSelected","name","nameRenderer"]),l=i.createElement("div",{className:ye},t),a=i.createElement(Ge,{loading:r.loading},null==n?l:n(t,r.index));return i.createElement(Ft,o.__assign({isReorderable:this.props.enableRowReordering,isSelected:this.props.isRowSelected},r),i.createElement("div",{className:Re},a),this.props.children,r.loading?void 0:r.resizeHandle)},t=o.__decorate([_t],t)}(a.AbstractPureComponent2),kt=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.handleEdit=function(){o.setState({isEditing:!0,dirtyName:o.state.savedName})},o.handleCancel=function(e){o.setState({isEditing:!1,dirtyName:void 0}),o.invokeCallback(o.props.onCancel,e)},o.handleChange=function(e){o.setState({dirtyName:e}),o.invokeCallback(o.props.onChange,e)},o.handleConfirm=function(e){o.setState({isEditing:!1,savedName:e,dirtyName:void 0}),o.invokeCallback(o.props.onConfirm,e)},o.state={dirtyName:t.name,isEditing:!1,savedName:t.name},o}return o.__extends(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props.name;t!==e.name&&this.setState({savedName:t,dirtyName:t})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.intent,o=e.name,r=this.state,s=r.isEditing,u=r.dirtyName,d=r.savedName;return i.createElement(a.EditableText,{className:l()(t,L),defaultValue:o,intent:n,minWidth:null,onCancel:this.handleCancel,onChange:this.handleChange,onConfirm:this.handleConfirm,onEdit:this.handleEdit,placeholder:"",selectAllOnFocus:!0,value:s?u:d})},t.prototype.invokeCallback=function(e,t){var n=this.props.index;a.Utils.safeInvoke(e,t,n)},t}(i.PureComponent);function Ut(e,t){return"horizontal"===t?e.offsetHeight-e.clientHeight:e.offsetWidth-e.clientWidth}function Nt(e,t){return Math.max(e-t,0)}function Pt(e,t,n){if(ct.getRegionCardinality(e)===Ye.FULL_TABLE)return e;var o=ct.copy(e),r=0,l=0;if(null!=n){var i=function(e,t){return null!=e.rows&&t.row===e.rows[0]}(o,n),a=function(e,t){return null!=e.rows&&t.row===e.rows[1]}(o,n),s=function(e,t){return null!=e.cols&&t.col===e.cols[0]}(o,n),u=function(e,t){return null!=e.cols&&t.col===e.cols[1]}(o,n);t===Dt.UP?r=i&&!a?1:0:t===Dt.DOWN?r=a&&!i?0:1:l=t===Dt.LEFT?s&&!u?1:0:u&&!s?0:1}else r=t===Dt.DOWN?1:0,l=t===Dt.RIGHT?1:0;var d=function(e){switch(e){case Dt.UP:return{rows:-1,cols:0};case Dt.DOWN:return{rows:1,cols:0};case Dt.LEFT:return{rows:0,cols:-1};case Dt.RIGHT:return{rows:0,cols:1};default:return}}(t);return null!=o.rows&&(o.rows[r]+=d.rows),null!=o.cols&&(o.cols[l]+=d.cols),o}!function(e){e.UP="up",e.DOWN="down",e.LEFT="left",e.RIGHT="right"}(Dt||(Dt={}));var Wt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleActivate=function(e){if(t.shouldIgnoreMouseDown(e))return!1;var n=t.props.locateClick(e);if(!ct.isValid(n))return!1;var o=ct.getRegionCardinality(n),r=o===Ye.FULL_COLUMNS,l=o===Ye.FULL_ROWS;if(!r&&!l)return!1;var i=t.props.selectedRegions,a=ct.findContainingRegion(i,n);if(a>=0){var s=i[a];if(ct.getRegionCardinality(s)!==o)return!1;var u=l?s.rows:s.cols;t.selectedRegionStartIndex=u[0],t.selectedRegionLength=u[1]-u[0]+1}else{t.maybeSelectRegion(n);var d=l?n.rows:n.cols;t.selectedRegionStartIndex=d[0],t.selectedRegionLength=d[1]-d[0]+1}return!0},t.handleDragMove=function(e,n){var o=t.selectedRegionStartIndex,r=t.props.locateDrag(e,n),l=t.selectedRegionLength,i=Ve.guideIndexToReorderedIndex(o,r,l);t.props.onReordering(o,i,l)},t.handleDragEnd=function(e,n){var o=t.selectedRegionStartIndex,r=t.props.locateDrag(e,n),l=t.selectedRegionLength,i=Ve.guideIndexToReorderedIndex(o,r,l);t.props.onReordered(o,i,l);var a=t.props.toRegion(i,i+l-1);t.maybeSelectRegion(a),t.selectedRegionStartIndex=void 0,t.selectedRegionLength=void 0},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.getDraggableProps();return i.createElement(ot,o.__assign({},e,{preventDefault:!1}),this.props.children)},t.prototype.getDraggableProps=function(){return null==this.props.onReordered?{}:{onActivate:this.handleActivate,onDragEnd:this.handleDragEnd,onDragMove:this.handleDragMove}},t.prototype.shouldIgnoreMouseDown=function(e){var t=this.props.disabled,n=a.Utils.isFunction(t)?a.Utils.safeInvoke(t,e):t;return!Ve.isLeftClick(e)||n},t.prototype.maybeSelectRegion=function(e){var t=[e];a.Utils.deepCompareKeys(t,this.props.selectedRegions)||(this.props.onSelection(t),this.props.onFocusedCell(o.__assign({},ct.getFocusCellCoordinatesFromRegion(e),{focusSelectionIndex:0})))},t.defaultProps={selectedRegions:[]},t}(i.PureComponent),Gt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=n.getDerivedStateFromProps(t.props,null),t.onResizeMove=function(e,n){t.offsetSize(n),null!=t.props.onSizeChanged&&t.props.onSizeChanged(t.state.size)},t.onResizeEnd=function(e){t.setState({unclampedSize:t.state.size}),null!=t.props.onResizeEnd&&t.props.onResizeEnd(t.state.size)},t}var n;return o.__extends(t,e),n=t,t.getDerivedStateFromProps=function(e,t){var n=e.size;return null==t?{size:n,unclampedSize:n}:null},t.prototype.componentDidUpdate=function(e){e.size!==this.props.size&&this.setState(n.getDerivedStateFromProps(this.props,null))},t.prototype.render=function(){var e=i.Children.only(this.props.children),t=o.__assign({},e.props.style,this.getStyle());if(!1===this.props.isResizable)return i.cloneElement(e,{style:t});var n=this.renderResizeHandle();return i.cloneElement(e,{style:t,resizeHandle:n})},t.prototype.renderResizeHandle=function(){var e=this.props,t=e.onLayoutLock,n=e.onDoubleClick,o=e.orientation;return i.createElement(vt,{key:"resize-handle",onDoubleClick:n,onLayoutLock:t,onResizeEnd:this.onResizeEnd,onResizeMove:this.onResizeMove,orientation:o})},t.prototype.getStyle=function(){return this.props.orientation===mt.VERTICAL?{flexBasis:this.state.size+"px",minWidth:"0px",width:this.state.size+"px"}:{flexBasis:this.state.size+"px",height:this.state.size+"px",minHeight:"0px"}},t.prototype.offsetSize=function(e){var t=this.state.unclampedSize+e;this.setState({size:Ve.clamp(t,this.props.minSize,this.props.maxSize),unclampedSize:t})},t.defaultProps={isResizable:!0,minSize:0},t=n=o.__decorate([_t],t)}(a.AbstractPureComponent2),qt=["focusedCell","selectedRegions"],Bt=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.convertEventToIndex=function(e){var t=o.props.getMouseCoordinate(e);return o.props.convertPointToIndex(t)},o.locateClick=function(e){return o.activationIndex=o.convertEventToIndex(e),o.props.toRegion(o.activationIndex)},o.locateDragForSelection=function(e,t,n){void 0===n&&(n=!1);var r=o.props.getDragCoordinate(t.current),l=o.activationIndex,i=o.props.convertPointToIndex(r);return n?o.props.toRegion(i):o.props.toRegion(l,i)},o.locateDragForReordering=function(e,t){var n=o.props.getDragCoordinate(t.current),r=o.props.convertPointToIndex(n,!0);return r<0?void 0:r},o.renderCells=function(){for(var e=o.props,t=e.indexStart,n=e.indexEnd,r=[],l=t;l<=n;l++)r.push(o.renderNewCell(l));return r},o.renderNewCell=function(e){var t=o.props.getCellExtremaClasses(e,o.props.indexEnd);return(o.props.isGhostIndex(e)?o.props.ghostCellRenderer:o.renderCell)(e,t)},o.renderCell=function(e,t){var n,r,s=o.props,u=s.getIndexClass,d=s.selectedRegions,c=o.props.headerCellRenderer(e);if(null==c)return null;var h=null!=c.props.loading?c.props.loading:o.props.loading,p=o.props.isCellSelected(e),f=o.isEntireCellTargetReorderable(e),g=((r={className:l()(t,((n={})[O]=f,n),o.props.getCellIndexClass(e),c.props.className),index:e})[o.props.headerCellIsSelectedPropName]=p,r[o.props.headerCellIsReorderablePropName]=f,r.loading=h,r.reorderHandle=o.maybeRenderReorderHandle(e),r),m=i.createElement(Tt,{enableMultipleSelection:o.props.enableMultipleSelection,disabled:o.isDragSelectableDisabled,focusedCell:o.props.focusedCell,ignoredSelectors:["."+ae],key:u(e),locateClick:o.locateClick,locateDrag:o.locateDragForSelection,onFocusedCell:o.props.onFocusedCell,onSelection:o.handleDragSelectableSelection,onSelectionEnd:o.handleDragSelectableSelectionEnd,selectedRegions:d,selectedRegionTransform:o.props.selectedRegionTransform},i.createElement(Gt,{isResizable:o.props.isResizable,maxSize:o.props.maxSize,minSize:o.props.minSize,onDoubleClick:function(){return a.Utils.safeInvoke(o.props.handleResizeDoubleClick,e)},onLayoutLock:o.props.onLayoutLock,onResizeEnd:function(t){return o.props.handleResizeEnd(e,t)},onSizeChanged:function(t){return o.props.handleSizeChanged(e,t)},orientation:o.props.resizeOrientation,size:o.props.getCellSize(e)},i.cloneElement(c,g)));return o.isReorderHandleEnabled()?m:o.wrapInDragReorderable(e,m,o.isDragReorderableDisabled)},o.handleDragSelectableSelection=function(e){o.props.onSelection(e),o.setState({hasValidSelection:!1})},o.handleDragSelectableSelectionEnd=function(){o.activationIndex=null,o.setState({hasValidSelection:!0})},o.isDragSelectableDisabled=function(e){if(tt.isAdditive(e))return!1;var t=o.convertEventToIndex(e);return o.isEntireCellTargetReorderable(t)},o.isDragReorderableDisabled=function(e){if(!o.isDragSelectableDisabled(e))return!0;var t=o.convertEventToIndex(e);return!o.isEntireCellTargetReorderable(t)},o.isEntireCellTargetReorderable=function(e){var t=o.props.selectedRegions;return o.props.isReorderable&&o.props.isCellSelected(e)&&o.state.hasValidSelection&&ct.getRegionCardinality(t[0])===o.props.fullRegionCardinality&&1===t.length&&!o.isReorderHandleEnabled()},o.state={hasValidSelection:o.isSelectedRegionsControlledAndNonEmpty(t)},o}return o.__extends(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this.isSelectedRegionsControlledAndNonEmpty(this.props);t.hasValidSelection!==n&&this.setState({hasValidSelection:n})},t.prototype.shouldComponentUpdate=function(e,t){return!a.Utils.shallowCompareKeys(this.state,t)||!a.Utils.shallowCompareKeys(this.props,e,{exclude:qt})||!a.Utils.deepCompareKeys(this.props,e,qt)},t.prototype.render=function(){return this.props.wrapCells(this.renderCells())},t.prototype.isSelectedRegionsControlledAndNonEmpty=function(e){return void 0===e&&(e=this.props),null!=e.selectedRegions&&e.selectedRegions.length>0},t.prototype.isReorderHandleEnabled=function(){return this.isColumnHeader()&&this.props.isReorderable},t.prototype.maybeRenderReorderHandle=function(e){return this.isReorderHandleEnabled()?this.wrapInDragReorderable(e,i.createElement("div",{className:ae},i.createElement("div",{className:ie},i.createElement(a.Icon,{icon:"drag-handle-vertical"}))),!1):void 0},t.prototype.isColumnHeader=function(){return this.props.fullRegionCardinality===Ye.FULL_COLUMNS},t.prototype.wrapInDragReorderable=function(e,t,n){return i.createElement(Wt,{disabled:n,key:this.props.getIndexClass(e),locateClick:this.locateClick,locateDrag:this.locateDragForReordering,onReordered:this.props.onReordered,onReordering:this.props.onReordering,onSelection:this.props.onSelection,onFocusedCell:this.props.onFocusedCell,selectedRegions:this.props.selectedRegions,toRegion:this.props.toRegion},t)},t}(i.Component),Vt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wrapCells=function(e){var n=t.props,o=n.columnIndexStart,r=n.grid.getRect().width,a=t.props.grid.getCumulativeWidthBefore(o),s={transform:"translateX("+(a||0)+"px)",width:r-a},u=l()(Ie,v);return i.createElement("div",{style:{width:r}},i.createElement("div",{style:s,className:u,ref:t.props.measurableElementRef},e))},t.convertPointToColumn=function(e,n){var o=t.props.locator;return null!=o?o.convertPointToColumn(e,n):null},t.getCellExtremaClasses=function(e,n){return t.props.grid.getExtremaClasses(0,e,1,n)},t.getColumnWidth=function(e){return t.props.grid.getColumnRect(e).width},t.getDragCoordinate=function(e){return e[0]},t.getMouseCoordinate=function(e){return e.clientX},t.handleResizeEnd=function(e,n){t.props.onResizeGuide(null),t.props.onColumnWidthChanged(e,n)},t.handleResizeDoubleClick=function(e){var n=t.props,o=n.minColumnWidth,r=n.maxColumnWidth,l=t.props.locator.getWidestVisibleCellInColumn(e),i=Ve.clamp(l,o,r);t.props.onResizeGuide(null),t.props.onColumnWidthChanged(e,i)},t.handleSizeChanged=function(e,n){var o=t.props.grid.getColumnRect(e);t.props.onResizeGuide([o.left+n])},t.isCellSelected=function(e){return ct.hasFullColumn(t.props.selectedRegions,e)},t.isGhostIndex=function(e){return t.props.grid.isGhostIndex(-1,e)},t.renderGhostCell=function(e,n){var o=t.props,r=o.grid,a=o.loading,s=r.getGhostCellRect(0,e),u={flexBasis:s.width+"px",width:s.width+"px"};return i.createElement(At,{className:l()(n),index:e,key:Ue(e),loading:a,style:u})},t.toRegion=function(e,t){return ct.column(e,t)},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.cellRenderer,n=(e.onColumnWidthChanged,e.minColumnWidth),r=e.maxColumnWidth,l=(e.defaultColumnWidth,e.columnIndexStart),a=e.columnIndexEnd,s=o.__rest(e,["cellRenderer","onColumnWidthChanged","minColumnWidth","maxColumnWidth","defaultColumnWidth","columnIndexStart","columnIndexEnd"]);return i.createElement(Bt,o.__assign({convertPointToIndex:this.convertPointToColumn,fullRegionCardinality:Ye.FULL_COLUMNS,getCellExtremaClasses:this.getCellExtremaClasses,getCellIndexClass:Pe,getCellSize:this.getColumnWidth,getDragCoordinate:this.getDragCoordinate,getIndexClass:Ue,getMouseCoordinate:this.getMouseCoordinate,ghostCellRenderer:this.renderGhostCell,handleResizeDoubleClick:this.handleResizeDoubleClick,handleResizeEnd:this.handleResizeEnd,handleSizeChanged:this.handleSizeChanged,headerCellIsReorderablePropName:"enableColumnReordering",headerCellIsSelectedPropName:"isColumnSelected",headerCellRenderer:t,indexEnd:a,indexStart:l,isCellSelected:this.isCellSelected,isGhostIndex:this.isGhostIndex,maxSize:r,minSize:n,resizeOrientation:mt.VERTICAL,selectedRegions:[],toRegion:this.toRegion,wrapCells:this.wrapCells},s))},t.defaultProps={isReorderable:!1,isResizable:!0,loading:!1},t}(i.Component),Kt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wrapCells=function(e){var n=t.props,o=n.rowIndexStart,r=n.grid.getRect().height,l=t.props.grid.getCumulativeHeightBefore(o),a={height:r-l,transform:"translateY("+(l||0)+"px)"};return i.createElement("div",{style:{height:r}},i.createElement("div",{className:ve,style:a},e))},t.convertPointToRow=function(e,n){var o=t.props.locator;return null!=o?o.convertPointToRow(e,n):null},t.getCellExtremaClasses=function(e,n){return t.props.grid.getExtremaClasses(e,0,n,1)},t.getRowHeight=function(e){return t.props.grid.getRowRect(e).height},t.getDragCoordinate=function(e){return e[1]},t.getMouseCoordinate=function(e){return e.clientY},t.handleResizeEnd=function(e,n){t.props.onResizeGuide(null),t.props.onRowHeightChanged(e,n)},t.handleSizeChanged=function(e,n){var o=t.props.grid.getRowRect(e);t.props.onResizeGuide([o.top+n])},t.isCellSelected=function(e){return ct.hasFullRow(t.props.selectedRegions,e)},t.isGhostIndex=function(e){return t.props.grid.isGhostIndex(e,-1)},t.renderGhostCell=function(e,n){var o=t.props.grid.getGhostCellRect(e,0);return i.createElement(zt,{className:l()(n),index:e,key:Ne(e),loading:t.props.loading,style:{height:o.height+"px"}})},t.toRegion=function(e,t){return ct.row(e,t)},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=(e.onRowHeightChanged,e.rowHeaderCellRenderer),n=e.minRowHeight,r=e.maxRowHeight,l=(e.defaultRowHeight,e.rowIndexStart),a=e.rowIndexEnd,s=o.__rest(e,["onRowHeightChanged","rowHeaderCellRenderer","minRowHeight","maxRowHeight","defaultRowHeight","rowIndexStart","rowIndexEnd"]);return i.createElement(Bt,o.__assign({convertPointToIndex:this.convertPointToRow,fullRegionCardinality:Ye.FULL_ROWS,getCellExtremaClasses:this.getCellExtremaClasses,getCellIndexClass:We,getCellSize:this.getRowHeight,getDragCoordinate:this.getDragCoordinate,getIndexClass:Ne,getMouseCoordinate:this.getMouseCoordinate,ghostCellRenderer:this.renderGhostCell,handleResizeEnd:this.handleResizeEnd,handleSizeChanged:this.handleSizeChanged,headerCellIsReorderablePropName:"enableRowReordering",headerCellIsSelectedPropName:"isRowSelected",headerCellRenderer:t,indexEnd:a,indexStart:l,isCellSelected:this.isCellSelected,isGhostIndex:this.isGhostIndex,maxSize:r,minSize:n,resizeOrientation:mt.HORIZONTAL,selectedRegions:[],toRegion:this.toRegion,wrapCells:this.wrapCells},s))},t.defaultProps={rowHeaderCellRenderer:Qt},t}(i.Component);function Qt(e){return i.createElement(zt,{index:e,name:""+(e+1)})}var jt,Yt=function(){function e(){}return e.attach=function(t,n){var o=e.debounce(n),r=document.createElement("div");r.className=pe,r.style.cssText=e.RESIZE_SENSOR_STYLE,r.innerHTML=e.RESIZE_SENSOR_HTML,t.appendChild(r),"static"===getComputedStyle(t,null).getPropertyValue("position")&&(t.style.position="relative");var l,i,a=r.childNodes[0],s=a.childNodes[0],u=r.childNodes[1],d=function(){s.style.width="100000px",s.style.height="100000px",a.scrollLeft=1e5,a.scrollTop=1e5,u.scrollLeft=1e5,u.scrollTop=1e5};d();var c=function(){var e=t.offsetWidth,n=t.offsetHeight;e===l&&n===i||(l=e,i=n,o.trigger()),d()};return a.addEventListener("scroll",c),u.addEventListener("scroll",c),function(){t.removeChild(r),o.cancelled=!0}},e.debounce=function(e){var t={cancelled:!1,trigger:function(){t.triggered||t.cancelled||(t.triggered=!0,requestAnimationFrame(function(){t.triggered=!1,t.cancelled||e()}))},triggered:!1};return t},e.RESIZE_SENSOR_STYLE="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",e.RESIZE_SENSOR_HTML='<div class="'+fe+'"\n        style="'+e.RESIZE_SENSOR_STYLE+'"><div style="position: absolute; left: 0; top: 0; transition: 0s;"\n        ></div></div><div class="'+ge+'" style="'+e.RESIZE_SENSOR_STYLE+'"\n        ><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%;"></div></div>',e}(),Xt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderVerticalGuide=function(e,t){var n,o={left:e+"px"},r=l()(K,ze,((n={})[ze+"-flush-left"]=0===e,n));return i.createElement("div",{className:r,key:t,style:o})},t.renderHorizontalGuide=function(e,t){var n,o={top:e+"px"},r=l()(K,z,((n={})[z+"-flush-top"]=0===e,n));return i.createElement("div",{className:r,key:t,style:o})},t}return o.__extends(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.className!==e.className||(!a.Utils.arraysEqual(this.props.verticalGuides,e.verticalGuides)||!a.Utils.arraysEqual(this.props.horizontalGuides,e.horizontalGuides))},t.prototype.render=function(){var e=this.props,t=e.verticalGuides,n=e.horizontalGuides,o=e.className,r=null==t?void 0:t.map(this.renderVerticalGuide),a=null==n?void 0:n.map(this.renderHorizontalGuide);return i.createElement("div",{className:l()(o,Q)},r,a)},t}(i.Component),Zt=["className"],Jt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderRegion=function(e,n){var o=t.props,r=o.className,a=o.regionStyles;return i.createElement("div",{className:l()(K,le,r),key:n,style:a[n]})},t}return o.__extends(t,e),t.prototype.shouldComponentUpdate=function(e){return!a.Utils.arraysEqual(this.props.regions,e.regions,ct.regionsEqual)||!a.Utils.arraysEqual(this.props.regionStyles,e.regionStyles,a.Utils.shallowCompareKeys)||!a.Utils.shallowCompareKeys(this.props,e,{include:Zt})},t.prototype.render=function(){return i.createElement("div",{className:Q},this.renderRegionChildren())},t.prototype.renderRegionChildren=function(){var e=this.props.regions;if(null!=e)return e.map(this.renderRegion)},t}(i.Component);!function(e){e.MAIN="main",e.TOP="top",e.LEFT="left",e.TOP_LEFT="top-left"}(jt||(jt={}));var $t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.grid,n=e.enableRowHeader,o=e.quadrantType,r=e.bodyRenderer,s=o===jt.TOP||o===jt.TOP_LEFT,u=o===jt.LEFT||o===jt.TOP_LEFT,d=l()(Z,this.getQuadrantCssClass(),this.props.className),h=n&&a.Utils.safeInvoke(this.props.menuRenderer),p=n&&a.Utils.safeInvoke(this.props.rowHeaderCellRenderer,s),f=a.Utils.safeInvoke(this.props.columnHeaderCellRenderer,u),g=null!=o?r(o,s,u):r(),m={height:t.getHeight(),width:t.getWidth()};return i.createElement("div",{className:d,style:this.props.style,ref:this.props.quadrantRef},i.createElement("div",{className:te,ref:this.props.scrollContainerRef,onScroll:this.props.onScroll,onWheel:this.props.onWheel},i.createElement("div",{className:He},h,f),i.createElement("div",{className:c,style:m},p,i.createElement("div",{className:J,ref:this.props.bodyRef},g))))},t.prototype.validateProps=function(e){var t=e.quadrantType;null!=e.onScroll&&null!=t&&t!==jt.MAIN&&console.warn("[Blueprint Table] <TableQuadrant> onScroll need not be defined for any quadrant aside from the MAIN quadrant.")},t.prototype.getQuadrantCssClass=function(){switch(this.props.quadrantType){case jt.MAIN:return ee;case jt.TOP:return oe;case jt.LEFT:return $;case jt.TOP_LEFT:return re;default:return}},t.defaultProps={enableRowHeader:!0},t=o.__decorate([_t],t)}(a.AbstractComponent2),en=function(){function e(){this.reset()}return e.prototype.reset=function(){this.cachedRowHeaderWidth=0,this.cachedColumnHeaderHeight=0,this.cachedScrollLeft=0,this.cachedScrollTop=0},e.prototype.getScrollOffset=function(e){return"scrollLeft"===e?this.cachedScrollLeft:this.cachedScrollTop},e.prototype.getRowHeaderWidth=function(){return this.cachedRowHeaderWidth},e.prototype.getColumnHeaderHeight=function(){return this.cachedColumnHeaderHeight},e.prototype.getScrollContainerClientWidth=function(){return this.cachedScrollContainerClientWidth},e.prototype.getScrollContainerClientHeight=function(){return this.cachedScrollContainerClientHeight},e.prototype.setColumnHeaderHeight=function(e){this.cachedColumnHeaderHeight=e},e.prototype.setRowHeaderWidth=function(e){this.cachedRowHeaderWidth=e},e.prototype.setScrollOffset=function(e,t){"scrollLeft"===e?this.cachedScrollLeft=t:this.cachedScrollTop=t},e.prototype.setScrollContainerClientWidth=function(e){this.cachedScrollContainerClientWidth=e},e.prototype.setScrollContainerClientHeight=function(e){this.cachedScrollContainerClientHeight=e},e}(),tn=["enableRowHeader","loadingOptions","numFrozenColumns","numFrozenRows","numColumns","numRows","enableColumnInteractionBar"],nn=function(e){function t(t,n){var o,r,l=e.call(this,t,n)||this;return l.quadrantRefs=((o={})[jt.MAIN]={},o[jt.TOP]={},o[jt.LEFT]={},o[jt.TOP_LEFT]={},o),l.quadrantRefHandlers=((r={})[jt.MAIN]=l.generateQuadrantRefHandlers(jt.MAIN),r[jt.TOP]=l.generateQuadrantRefHandlers(jt.TOP),r[jt.LEFT]=l.generateQuadrantRefHandlers(jt.LEFT),r[jt.TOP_LEFT]=l.generateQuadrantRefHandlers(jt.TOP_LEFT),r),l.wasMainQuadrantScrollTriggeredByWheelEvent=!1,l.renderMainQuadrantMenu=function(){return a.Utils.safeInvoke(l.props.menuRenderer,l.quadrantRefHandlers[jt.MAIN].menu)},l.renderTopQuadrantMenu=function(){return a.Utils.safeInvoke(l.props.menuRenderer,l.quadrantRefHandlers[jt.TOP].menu)},l.renderLeftQuadrantMenu=function(){return a.Utils.safeInvoke(l.props.menuRenderer,l.quadrantRefHandlers[jt.LEFT].menu)},l.renderTopLeftQuadrantMenu=function(){return a.Utils.safeInvoke(l.props.menuRenderer,l.quadrantRefHandlers[jt.TOP_LEFT].menu)},l.renderMainQuadrantColumnHeader=function(e){var t=l.quadrantRefHandlers[jt.MAIN].columnHeader,n=l.handleColumnResizeGuideMain,o=l.handleColumnsReordering;return a.Utils.safeInvoke(l.props.columnHeaderCellRenderer,t,n,o,e)},l.renderTopQuadrantColumnHeader=function(e){var t=l.quadrantRefHandlers[jt.TOP].columnHeader,n=l.handleColumnResizeGuideTop,o=l.handleColumnsReordering;return a.Utils.safeInvoke(l.props.columnHeaderCellRenderer,t,n,o,e)},l.renderLeftQuadrantColumnHeader=function(e){var t=l.quadrantRefHandlers[jt.LEFT].columnHeader,n=l.handleColumnResizeGuideLeft,o=l.handleColumnsReordering;return a.Utils.safeInvoke(l.props.columnHeaderCellRenderer,t,n,o,e)},l.renderTopLeftQuadrantColumnHeader=function(e){var t=l.quadrantRefHandlers[jt.TOP_LEFT].columnHeader,n=l.handleColumnResizeGuideTopLeft,o=l.handleColumnsReordering;return a.Utils.safeInvoke(l.props.columnHeaderCellRenderer,t,n,o,e)},l.renderMainQuadrantRowHeader=function(e){var t=l.quadrantRefHandlers[jt.MAIN].rowHeader,n=l.handleRowResizeGuideMain,o=l.handleRowsReordering;return a.Utils.safeInvoke(l.props.rowHeaderCellRenderer,t,n,o,e)},l.renderTopQuadrantRowHeader=function(e){var t=l.quadrantRefHandlers[jt.TOP].rowHeader,n=l.handleRowResizeGuideTop,o=l.handleRowsReordering;return a.Utils.safeInvoke(l.props.rowHeaderCellRenderer,t,n,o,e)},l.renderLeftQuadrantRowHeader=function(e){var t=l.quadrantRefHandlers[jt.LEFT].rowHeader,n=l.handleRowResizeGuideLeft,o=l.handleRowsReordering;return a.Utils.safeInvoke(l.props.rowHeaderCellRenderer,t,n,o,e)},l.renderTopLeftQuadrantRowHeader=function(e){var t=l.quadrantRefHandlers[jt.TOP_LEFT].rowHeader,n=l.handleRowResizeGuideTopLeft,o=l.handleRowsReordering;return a.Utils.safeInvoke(l.props.rowHeaderCellRenderer,t,n,o,e)},l.handleMainQuadrantScroll=function(e){if(l.wasMainQuadrantScrollTriggeredByWheelEvent)l.wasMainQuadrantScrollTriggeredByWheelEvent=!1;else{a.Utils.safeInvoke(l.props.onScroll,e);var t=l.quadrantRefs[jt.MAIN].scrollContainer,n=t.scrollLeft,o=t.scrollTop;l.handleScrollOffsetChange("scrollLeft",n),l.handleScrollOffsetChange("scrollTop",o),l.syncQuadrantViewsDebounced()}},l.handleWheel=function(e){a.Utils.safeInvoke(l.props.onScroll,e);var t=l.getNextScrollOffset("horizontal",e.deltaX),n=l.getNextScrollOffset("vertical",e.deltaY);null==t&&null==n||(l.wasMainQuadrantScrollTriggeredByWheelEvent=!0),l.quadrantRefs[jt.MAIN].scrollContainer.scrollLeft=t,l.quadrantRefs[jt.MAIN].scrollContainer.scrollTop=n,l.handleScrollOffsetChange("scrollLeft",t),l.handleScrollOffsetChange("scrollTop",n),l.syncQuadrantViewsDebounced()},l.getNextScrollOffset=function(e,t){var n=l.props,o=n.grid,r=n.isHorizontalScrollDisabled,i=n.isVerticalScrollDisabled,s="horizontal"===e,u=s?"scrollLeft":"scrollTop";if(!(s?r:i)){var d=s?l.cache.getScrollContainerClientWidth():l.cache.getScrollContainerClientHeight();null==d&&(d=l.updateScrollContainerClientSize(s));var c=s?l.cache.getScrollContainerClientWidth()-l.cache.getRowHeaderWidth():l.cache.getScrollContainerClientHeight()-l.cache.getColumnHeaderHeight(),h=s?o.getWidth():o.getHeight(),p=Math.max(0,h-c),f=l.cache.getScrollOffset(u);return a.Utils.clamp(f+t,0,p)}},l.handleColumnResizeGuideMain=function(e){l.invokeColumnResizeHandler(e,jt.MAIN)},l.handleColumnResizeGuideTop=function(e){l.invokeColumnResizeHandler(e,jt.TOP)},l.handleColumnResizeGuideLeft=function(e){l.invokeColumnResizeHandler(e,jt.LEFT)},l.handleColumnResizeGuideTopLeft=function(e){l.invokeColumnResizeHandler(e,jt.TOP_LEFT)},l.invokeColumnResizeHandler=function(e,t){var n=l.adjustVerticalGuides(e,t);a.Utils.safeInvoke(l.props.handleColumnResizeGuide,n)},l.handleRowResizeGuideMain=function(e){l.invokeRowResizeHandler(e,jt.MAIN)},l.handleRowResizeGuideTop=function(e){l.invokeRowResizeHandler(e,jt.TOP)},l.handleRowResizeGuideLeft=function(e){l.invokeRowResizeHandler(e,jt.LEFT)},l.handleRowResizeGuideTopLeft=function(e){l.invokeRowResizeHandler(e,jt.TOP_LEFT)},l.invokeRowResizeHandler=function(e,t){var n=l.adjustHorizontalGuides(e,t);a.Utils.safeInvoke(l.props.handleRowResizeGuide,n)},l.handleColumnsReordering=function(e,t,n){var o=Ve.reorderedIndexToGuideIndex(e,t,n),r=l.props.grid.getCumulativeWidthBefore(o),i=o<=l.props.numFrozenColumns?jt.TOP_LEFT:jt.TOP,s=l.adjustVerticalGuides([r],i);a.Utils.safeInvoke(l.props.handleColumnsReordering,s)},l.handleRowsReordering=function(e,t,n){var o=Ve.reorderedIndexToGuideIndex(e,t,n),r=l.props.grid.getCumulativeHeightBefore(o),i=o<=l.props.numFrozenRows?jt.TOP_LEFT:jt.LEFT,s=l.adjustHorizontalGuides([r],i);a.Utils.safeInvoke(l.props.handleRowsReordering,s)},l.syncQuadrantViewsDebounced=function(){var e=l.props.viewSyncDelay;e<0?l.syncQuadrantViews():(clearInterval(l.debouncedViewSyncInterval),l.debouncedViewSyncInterval=window.setTimeout(l.syncQuadrantViews,e))},l.syncQuadrantViews=function(){var e=l.quadrantRefs[jt.MAIN].scrollContainer,t=l.measureDesiredRowHeaderWidth(),n=l.measureDesiredColumnHeaderHeight(),o=t+l.getSecondaryQuadrantGridSize("width"),r=n+l.getSecondaryQuadrantGridSize("height"),i=Ut(e,"vertical"),a=Ut(e,"horizontal"),s=l.maybeIncreaseToDefaultColumnHeaderHeight(n),u=l.maybeIncreaseToDefaultColumnHeaderHeight(r);l.cache.setRowHeaderWidth(t),l.cache.setColumnHeaderHeight(n),l.cache.setScrollContainerClientWidth(void 0),l.cache.setScrollContainerClientHeight(void 0),l.maybesSetQuadrantRowHeaderSizes(t),l.maybeSetQuadrantMenuElementSizes(t,s),l.maybeSetQuadrantSizes(o,u),l.maybeSetQuadrantPositionOffset(jt.TOP,"right",i),l.maybeSetQuadrantPositionOffset(jt.LEFT,"bottom",a),l.maybeSetQuadrantScrollOffset(jt.LEFT,"scrollTop"),l.maybeSetQuadrantScrollOffset(jt.TOP,"scrollLeft")},l.maybeSetQuadrantSizes=function(e,t){l.maybesSetQuadrantSize(jt.LEFT,"width",e),l.maybesSetQuadrantSize(jt.TOP,"height",t),l.maybesSetQuadrantSize(jt.TOP_LEFT,"width",e),l.maybesSetQuadrantSize(jt.TOP_LEFT,"height",t)},l.maybesSetQuadrantSize=function(e,t,n){var o=l.quadrantRefs[e].quadrant;null!=o&&(o.style[t]=n+"px")},l.maybeSetQuadrantPositionOffset=function(e,t,n){var o=l.quadrantRefs[e].quadrant;null!=o&&(o.style[t]=n+"px")},l.maybesSetQuadrantRowHeaderSizes=function(e){l.maybeSetQuadrantRowHeaderSize(jt.MAIN,e),l.maybeSetQuadrantRowHeaderSize(jt.TOP,e),l.maybeSetQuadrantRowHeaderSize(jt.LEFT,e),l.maybeSetQuadrantRowHeaderSize(jt.TOP_LEFT,e)},l.maybeSetQuadrantRowHeaderSize=function(e,t){var n=l.quadrantRefs[e].rowHeader;null!=n&&(n.style.width=t+"px")},l.maybeSetQuadrantMenuElementSizes=function(e,t){l.maybeSetQuadrantMenuElementSize(jt.MAIN,e,t),l.maybeSetQuadrantMenuElementSize(jt.TOP,e,t),l.maybeSetQuadrantMenuElementSize(jt.LEFT,e,t),l.maybeSetQuadrantMenuElementSize(jt.TOP_LEFT,e,t)},l.maybeSetQuadrantMenuElementSize=function(e,t,n){var o=l.quadrantRefs[e].menu;null!=o&&(o.style.width=t+"px",o.style.height=n+"px")},l.maybeSetQuadrantScrollOffset=function(e,t,n){var o=l.quadrantRefs[e].scrollContainer,r=null!=n?n:l.cache.getScrollOffset(t);null!=o&&(o[t]=r)},l.handleScrollOffsetChange=function(e,t){l.cache.setScrollOffset(e,t);var n="scrollLeft"===e?jt.TOP:jt.LEFT;l.maybeSetQuadrantScrollOffset(n,e)},l.throttledHandleMainQuadrantScroll=a.Utils.throttleReactEventCallback(l.handleMainQuadrantScroll),l.throttledHandleWheel=a.Utils.throttleReactEventCallback(l.handleWheel),l.cache=new en,l}return o.__extends(t,e),t.prototype.scrollToPosition=function(e,t){var n=this.quadrantRefs[jt.MAIN].scrollContainer;this.wasMainQuadrantScrollTriggeredByWheelEvent=!1,n.scrollLeft=e,n.scrollTop=t,this.syncQuadrantViews()},t.prototype.synchronizeQuadrantViews=function(){this.syncQuadrantViews()},t.prototype.componentDidMount=function(){this.emitRefs(),this.syncQuadrantViews()},t.prototype.componentDidUpdate=function(e){a.Utils.shallowCompareKeys(this.props,e,{include:tn})||(this.emitRefs(),this.syncQuadrantViews())},t.prototype.render=function(){var e=this.props,t=e.grid,n=e.enableRowHeader,r=e.bodyRenderer,l=e.throttleScrolling,a=l?this.throttledHandleMainQuadrantScroll:this.handleMainQuadrantScroll,s={bodyRenderer:r,enableRowHeader:n,grid:t,onWheel:l?this.throttledHandleWheel:this.handleWheel},u=this.shouldRenderLeftQuadrants(),d=u?i.createElement($t,o.__assign({},s,{quadrantRef:this.quadrantRefHandlers[jt.LEFT].quadrant,quadrantType:jt.LEFT,columnHeaderCellRenderer:this.renderLeftQuadrantColumnHeader,menuRenderer:this.renderLeftQuadrantMenu,rowHeaderCellRenderer:this.renderLeftQuadrantRowHeader,scrollContainerRef:this.quadrantRefHandlers[jt.LEFT].scrollContainer})):void 0,c=u?i.createElement($t,o.__assign({},s,{quadrantRef:this.quadrantRefHandlers[jt.TOP_LEFT].quadrant,quadrantType:jt.TOP_LEFT,columnHeaderCellRenderer:this.renderTopLeftQuadrantColumnHeader,menuRenderer:this.renderTopLeftQuadrantMenu,rowHeaderCellRenderer:this.renderTopLeftQuadrantRowHeader,scrollContainerRef:this.quadrantRefHandlers[jt.TOP_LEFT].scrollContainer})):void 0;return i.createElement("div",{className:ne},i.createElement($t,o.__assign({},s,{bodyRef:this.props.bodyRef,onScroll:a,quadrantRef:this.quadrantRefHandlers[jt.MAIN].quadrant,quadrantType:jt.MAIN,columnHeaderCellRenderer:this.renderMainQuadrantColumnHeader,menuRenderer:this.renderMainQuadrantMenu,rowHeaderCellRenderer:this.renderMainQuadrantRowHeader,scrollContainerRef:this.quadrantRefHandlers[jt.MAIN].scrollContainer})),i.createElement($t,o.__assign({},s,{quadrantRef:this.quadrantRefHandlers[jt.TOP].quadrant,quadrantType:jt.TOP,columnHeaderCellRenderer:this.renderTopQuadrantColumnHeader,menuRenderer:this.renderTopQuadrantMenu,rowHeaderCellRenderer:this.renderTopQuadrantRowHeader,scrollContainerRef:this.quadrantRefHandlers[jt.TOP].scrollContainer})),d,c)},t.prototype.generateQuadrantRefHandlers=function(e){var t=this;return["columnHeader","menu","quadrant","rowHeader","scrollContainer"].reduce(function(n,o){return n[o]=function(n){return t.quadrantRefs[e][o]=n},n},{})},t.prototype.emitRefs=function(){a.Utils.safeInvoke(this.props.quadrantRef,this.quadrantRefs[jt.MAIN].quadrant),a.Utils.safeInvoke(this.props.rowHeaderRef,this.quadrantRefs[jt.MAIN].rowHeader),a.Utils.safeInvoke(this.props.columnHeaderRef,this.quadrantRefs[jt.MAIN].columnHeader),a.Utils.safeInvoke(this.props.scrollContainerRef,this.quadrantRefs[jt.MAIN].scrollContainer)},t.prototype.updateScrollContainerClientSize=function(e){var t=this.quadrantRefs[jt.MAIN].scrollContainer;return e?(this.cache.setScrollContainerClientWidth(t.clientWidth),this.cache.getScrollContainerClientWidth()):(this.cache.setScrollContainerClientHeight(t.clientHeight),this.cache.getScrollContainerClientHeight())},t.prototype.maybeIncreaseToDefaultColumnHeaderHeight=function(e){return e<=1?30:e},t.prototype.getSecondaryQuadrantGridSize=function(e){var t=this.props,n=t.grid,o=t.numFrozenColumns,r=t.numFrozenRows,l="width"===e?o:r,i="width"===e?n.getCumulativeWidthAt:n.getCumulativeHeightAt;return l>0?i(l-1):1},t.prototype.measureDesiredRowHeaderWidth=function(){var e=this.quadrantRefs[jt.MAIN].rowHeader;return null==e?0:(e.style.width="auto",e.clientWidth)},t.prototype.measureDesiredColumnHeaderHeight=function(){var e=this.quadrantRefs[jt.MAIN].columnHeader;return null==e?0:e.clientHeight},t.prototype.shouldRenderLeftQuadrants=function(e){void 0===e&&(e=this.props);var t=e.enableRowHeader,n=e.numFrozenColumns;return t||null!=n&&n>0},t.prototype.adjustVerticalGuides=function(e,t){var n=t===jt.LEFT||t===jt.TOP_LEFT?0:this.cache.getScrollOffset("scrollLeft"),o=this.cache.getRowHeaderWidth();return null!=e?e.map(function(e){return e-n+o}):e},t.prototype.adjustHorizontalGuides=function(e,t){var n=t===jt.TOP||t===jt.TOP_LEFT?0:this.cache.getScrollOffset("scrollTop"),o=this.cache.getColumnHeaderHeight();return null!=e?e.map(function(e){return e-n+o}):e},t.defaultProps={enableColumnInteractionBar:void 0,enableRowHeader:!0,isHorizontalScrollDisabled:!1,isVerticalScrollDisabled:!1,throttleScrolling:!0,viewSyncDelay:500},t=o.__decorate([_t],t)}(a.AbstractComponent2),on=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,o=e.style;return i.createElement("div",{className:t,style:o},n)},t.prototype.renderContextMenu=function(e){return this.props.renderContextMenu(e)},t=o.__decorate([a.ContextMenuTarget],t)}(i.PureComponent),rn=function(){function e(e,t,n,o){this.target=e,this.selectedRegions=t,this.numRows=n,this.numCols=o,this.regions=ct.overlapsRegion(t,e)?t:[e]}return e.prototype.getTarget=function(){return this.target},e.prototype.getSelectedRegions=function(){return this.selectedRegions},e.prototype.getRegions=function(){return this.regions},e.prototype.getUniqueCells=function(){return ct.enumerateUniqueCells(this.regions,this.numRows,this.numCols)},e}(),ln={callbacks:[],triggered:!1};"undefined"!=typeof window&&null!=window.addEventListener&&window.addEventListener("message",function(e){if(e.source===window&&"blueprint-table-post-message"===e.data){ln.triggered=!1;var t=null;ln.callbacks.length>0&&(t=ln.callbacks.shift()),ln.callbacks.length>0&&an(),t&&t()}},!1);var an=function(){ln.triggered||(ln.triggered=!0,requestAnimationFrame(function(){requestAnimationFrame(function(){postMessage("blueprint-table-post-message","*")})}))},sn=function(){function e(){var e=this;this.currentObjects={},this.oldObjects={},this.batchArgs={},this.done=!0,this.handleIdleCallback=function(){var t=e.callback;delete e.callback,a.Utils.safeInvoke(t)},this.mapCurrentObjectKey=function(t){return e.currentObjects[t]}}return e.prototype.reset=function(){this.batchArgs={},this.oldObjects=this.currentObjects,this.currentObjects={}},e.prototype.startNewBatch=function(){this.batchArgs={}},e.prototype.addArgsToBatch=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.batchArgs[this.getKey(e)]=e},e.prototype.removeOldAddNew=function(t,n,o,r){var l=this;void 0===n&&(n=e.DEFAULT_ADD_LIMIT),void 0===o&&(o=e.DEFAULT_REMOVE_LIMIT),void 0===r&&(r=e.DEFAULT_UPDATE_LIMIT),this.setKeysDifference(this.currentObjects,this.batchArgs,o).forEach(function(e){return delete l.currentObjects[e]}),this.setKeysDifference(this.oldObjects,this.batchArgs,-1).forEach(function(e){return delete l.oldObjects[e]}),Object.keys(this.oldObjects).forEach(function(e){null==l.currentObjects[e]&&(l.currentObjects[e]=l.oldObjects[e])}),this.setKeysIntersection(this.oldObjects,this.currentObjects,r).forEach(function(e){delete l.oldObjects[e],l.currentObjects[e]=t.apply(void 0,l.batchArgs[e])}),this.setKeysDifference(this.batchArgs,this.currentObjects,n).forEach(function(e){return l.currentObjects[e]=t.apply(void 0,l.batchArgs[e])}),this.done=this.setHasSameKeys(this.batchArgs,this.currentObjects)&&0===Object.keys(this.oldObjects).length},e.prototype.isDone=function(){return this.done},e.prototype.getList=function(){return Object.keys(this.currentObjects).map(this.mapCurrentObjectKey)},e.prototype.idleCallback=function(e){this.callback||(this.callback=e,function(e){ln.callbacks.push(e),an()}(this.handleIdleCallback))},e.prototype.cancelOutstandingCallback=function(){delete this.callback},e.prototype.setList=function(e,t){var n=this;this.reset(),e.forEach(function(e,o){n.addArgsToBatch.apply(n,e),n.currentObjects[n.getKey(e)]=t[o]}),this.done=!0},e.prototype.getKey=function(t){return t.join(e.ARG_DELIMITER)},e.prototype.setKeysDifference=function(e,t,n){return this.setKeysOperation(e,t,"difference",n)},e.prototype.setKeysIntersection=function(e,t,n){return this.setKeysOperation(e,t,"intersect",n)},e.prototype.setKeysOperation=function(e,t,n,o){for(var r=[],l=Object.keys(e),i=0;i<l.length&&(o<0||r.length<o);i++){var a=l[i];("difference"===n&&e[a]&&!t[a]||"intersect"===n&&e[a]&&t[a])&&r.push(a)}return r},e.prototype.setHasSameKeys=function(e,t){var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var r=0,l=n;r<l.length;r++){if(void 0===t[l[r]])return!1}return!0},e.DEFAULT_ADD_LIMIT=20,e.DEFAULT_UPDATE_LIMIT=20,e.DEFAULT_REMOVE_LIMIT=20,e.ARG_DELIMITER="|",e}(),un=["viewportRect"],dn=["columnIndexEnd","columnIndexStart","rowIndexEnd","rowIndexStart"],cn=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.batcher=new sn,n.renderNewCell=function(e,t){var o=n.props,r=o.columnIndexEnd,l=o.grid,i=o.rowIndexEnd,a=l.getExtremaClasses(e,t,i,r),s=l.isGhostIndex(e,t);return n.renderCell(e,t,a,s)},n.renderCell=function(e,r,a,s){var u,d=n.props,c=d.cellRenderer,h=d.focusedCell,p=d.loading,g=d.grid,v=s?Je():c(e,r);v=null==v?Je():v;var R=l()(hn(e,r),a,((u={})[f]=s,u[C]=e%2==1,u[m]=e%2==0,u),v.props.className),y=t.cellReactKey(e,r),w=s?g.getGhostCellRect(e,r):g.getCellRect(e,r),S=null!=v.props.loading?v.props.loading:p,b=o.__assign({},v.props.style,Qe.style(w)),E=null!=h&&h.row===e&&h.col===r;return i.cloneElement(v,{className:R,key:y,isFocused:E,loading:S,style:b})},n.didViewportRectChange=function(e,t){return(null!=e||null!=t)&&(null==e||null==t||!e.equals(t))},n}return o.__extends(t,e),t.cellReactKey=function(e,t){return"cell-"+e+"-"+t},t.prototype.componentDidMount=function(){this.maybeInvokeOnCompleteRender()},t.prototype.shouldComponentUpdate=function(e){return!a.Utils.shallowCompareKeys(e,this.props,{exclude:un})||this.didViewportRectChange(e.viewportRect,this.props.viewportRect)},t.prototype.componentDidUpdate=function(e){!a.Utils.shallowCompareKeys(e,this.props,{exclude:dn})&&this.batcher.reset(),this.maybeInvokeOnCompleteRender()},t.prototype.componentWillUnmount=function(){this.batcher.cancelOutstandingCallback()},t.prototype.render=function(){var e=this.props.renderMode===ft.BATCH?this.renderBatchedCells():this.renderAllCells();return i.createElement("div",{className:u},e)},t.prototype.renderBatchedCells=function(){var e=this,t=this.props,n=t.columnIndexEnd,o=t.columnIndexStart,r=t.rowIndexEnd,l=t.rowIndexStart;this.batcher.startNewBatch();for(var i=l;i<=r;i++)for(var a=o;a<=n;a++)this.batcher.addArgsToBatch(i,a);return this.batcher.removeOldAddNew(this.renderNewCell),this.batcher.isDone()||this.batcher.idleCallback(function(){return e.forceUpdate()}),this.batcher.getList()},t.prototype.renderAllCells=function(){for(var e=this.props,t=e.columnIndexEnd,n=e.columnIndexStart,o=e.rowIndexEnd,r=[],l=[],i=e.rowIndexStart;i<=o;i++)for(var a=n;a<=t;a++)r.push(this.renderNewCell(i,a)),l.push([i,a]);return this.batcher.setList(l,r),r},t.prototype.maybeInvokeOnCompleteRender=function(){var e=this.props,t=e.onCompleteRender,n=e.renderMode;(n===ft.NONE||n===ft.BATCH&&this.batcher.isDone())&&a.Utils.safeInvoke(t)},t.defaultProps={renderMode:ft.BATCH},t}(a.AbstractComponent2);function hn(e,t){return[We(e),Pe(t)]}var pn=["selectedRegions"],fn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderContextMenu=function(e){var n=t.props,r=n.grid,l=n.onFocusedCell,i=n.onSelection,a=n.bodyContextMenuRenderer,s=n.selectedRegions,u=r.numRows,d=r.numCols;if(null!=a){var c=t.locateClick(e.nativeEvent),h=s;if(ct.findContainingRegion(s,c)<0)i(h=[c]),l(o.__assign({},ct.getFocusCellCoordinatesFromRegion(c),{focusSelectionIndex:0}));var p=a(new rn(c,h,u,d));return null==p?void 0:p}},t.handleSelectionEnd=function(){t.activationCell=null},t.locateClick=function(e){return t.activationCell=t.props.locator.convertPointToCell(e.clientX,e.clientY),ct.cell(t.activationCell.row,t.activationCell.col)},t.locateDrag=function(e,n,o){void 0===o&&(o=!1);var r=t.activationCell,l=t.props.locator.convertPointToCell(n.current[0],n.current[1]);return o?ct.cell(l.row,l.col):ct.cell(r.row,r.col,l.row,l.col)},t}return o.__extends(t,e),t.cellClassNames=function(e,t){return hn(e,t)},t.prototype.shouldComponentUpdate=function(e){return!a.Utils.shallowCompareKeys(this.props,e,{exclude:pn})||!a.Utils.deepCompareKeys(this.props,e,pn)},t.prototype.render=function(){var e=this.props,t=e.grid,n=e.numFrozenColumns,o=e.numFrozenRows,r=t.getRect().sizeStyle(),a={height:null!=o?t.getCumulativeHeightAt(o-1):r.height,width:null!=n?t.getCumulativeWidthAt(n-1):r.width};return i.createElement(Tt,{enableMultipleSelection:this.props.enableMultipleSelection,focusedCell:this.props.focusedCell,locateClick:this.locateClick,locateDrag:this.locateDrag,onFocusedCell:this.props.onFocusedCell,onSelection:this.props.onSelection,onSelectionEnd:this.handleSelectionEnd,selectedRegions:this.props.selectedRegions,selectedRegionTransform:this.props.selectedRegionTransform},i.createElement(on,{className:l()(d,p),renderContextMenu:this.renderContextMenu,style:a},i.createElement(cn,{cellRenderer:this.props.cellRenderer,focusedCell:this.props.focusedCell,grid:t,loading:this.props.loading,onCompleteRender:this.props.onCompleteRender,renderMode:this.props.renderMode,columnIndexStart:this.props.columnIndexStart,columnIndexEnd:this.props.columnIndexEnd,rowIndexStart:this.props.rowIndexStart,rowIndexEnd:this.props.rowIndexEnd,viewportRect:this.props.viewportRect})))},t.defaultProps={loading:!1,renderMode:ft.BATCH},t}(a.AbstractComponent2),gn=function(e){function t(t,r){var s=e.call(this,t,r)||this;s.refHandlers={cellContainer:function(e){return s.cellContainerElement=e},columnHeader:function(e){return s.columnHeaderElement=e},quadrantStack:function(e){return s.quadrantStackInstance=e},rootTable:function(e){return s.rootTableElement=e},rowHeader:function(e){return s.rowHeaderElement=e},scrollContainer:function(e){return s.scrollContainerElement=e}},s.didCompletelyMount=!1,s.handleSelectionResizeUp=function(e){return s.handleSelectionResize(e,Dt.UP)},s.handleSelectionResizeDown=function(e){return s.handleSelectionResize(e,Dt.DOWN)},s.handleSelectionResizeLeft=function(e){return s.handleSelectionResize(e,Dt.LEFT)},s.handleSelectionResizeRight=function(e){return s.handleSelectionResize(e,Dt.RIGHT)},s.handleSelectionResize=function(e,t){e.preventDefault(),e.stopPropagation();var n=s.state,o=n.focusedCell,r=n.selectedRegions;if(0!==r.length){var l=function(e,t){return 0===e.length?void 0:null!=t?t.focusSelectionIndex:e.length-1}(r,o),i=Pt(r[l],t,o);s.updateSelectedRegionAtIndex(i,l)}},s.handleCopy=function(e){var t=s.props,n=t.getCellClipboardData,o=t.onCopy,r=s.state.selectedRegions;if(null!=n){e.preventDefault(),e.stopPropagation();var l=ct.enumerateUniqueCells(r,s.grid.numRows,s.grid.numCols),i=ct.sparseMapCells(l,n);if(null!=i){var u=it.copyCells(i);a.Utils.safeInvoke(o,u)}}},s.renderMenu=function(e){var t,o=l()(P,((t={})[we]=n.isSelectionModeEnabled(s.props,Ye.FULL_TABLE),t));return i.createElement("div",{className:o,ref:e,onMouseDown:s.handleMenuMouseDown},s.maybeRenderRegions(s.styleMenuRegion))},s.handleMenuMouseDown=function(e){s.selectAll(!e.shiftKey)},s.selectAll=function(e){if(s.getEnabledSelectionHandler(Ye.FULL_TABLE)([ct.table()]),e){var t=ct.getFocusCellCoordinatesFromRegion(ct.table());s.handleFocus(bt(t))}},s.handleSelectAllHotkey=function(e){e.preventDefault(),e.stopPropagation(),s.selectAll(!1)},s.columnHeaderCellRenderer=function(e){var t=s.getColumnProps(e);if(void 0===t)return null;t.id;var n=t.loadingOptions,r=(t.cellRenderer,t.columnHeaderCellRenderer),l=o.__rest(t,["id","loadingOptions","cellRenderer","columnHeaderCellRenderer"]),a=s.hasLoadingOption(n,at.HEADER);if(null!=r){var u=r(e),d=u.props.loading,c={loading:null!=d?d:a};return i.cloneElement(u,c)}var h=o.__assign({index:e,loading:a},l);return null!=t.name?i.createElement(At,o.__assign({},h)):i.createElement(At,o.__assign({},h,{name:Ve.toBase26Alpha(e)}))},s.renderColumnHeader=function(e,t,o,r){var a;void 0===r&&(r=!1);var u=s.state,d=u.focusedCell,c=u.selectedRegions,h=u.viewportRect,p=s.props,f=p.enableMultipleSelection,g=p.enableGhostCells,m=p.enableColumnReordering,C=p.enableColumnResizing,v=p.loadingOptions,y=p.maxColumnWidth,w=p.minColumnWidth,S=p.selectedRegionTransform,b=l()(R,((a={})[we]=n.isSelectionModeEnabled(s.props,Ye.FULL_COLUMNS),a)),E=s.grid.getColumnIndicesInRect(h,g),L=r?0:E.columnIndexStart,T=r?s.getMaxFrozenColumnIndex():E.columnIndexEnd;return i.createElement("div",{className:b},i.createElement(Vt,{enableMultipleSelection:f,cellRenderer:s.columnHeaderCellRenderer,focusedCell:d,grid:s.grid,isReorderable:m,isResizable:C,loading:s.hasLoadingOption(v,ut.COLUMN_HEADERS),locator:s.locator,maxColumnWidth:y,measurableElementRef:e,minColumnWidth:w,onColumnWidthChanged:s.handleColumnWidthChanged,onFocusedCell:s.handleFocus,onLayoutLock:s.handleLayoutLock,onReordered:s.handleColumnsReordered,onReordering:o,onResizeGuide:t,onSelection:s.getEnabledSelectionHandler(Ye.FULL_COLUMNS),selectedRegions:c,selectedRegionTransform:S,columnIndexStart:L,columnIndexEnd:T},s.props.children),s.maybeRenderRegions(s.styleColumnHeaderRegion))},s.renderRowHeader=function(e,t,o,r){var a;void 0===r&&(r=!1);var u=s.state,d=u.focusedCell,c=u.selectedRegions,h=u.viewportRect,p=s.props,f=p.enableMultipleSelection,g=p.enableGhostCells,m=p.enableRowReordering,C=p.enableRowResizing,v=p.loadingOptions,R=p.maxRowHeight,y=p.minRowHeight,w=p.rowHeaderCellRenderer,S=p.selectedRegionTransform,b=l()(Ce,((a={})[we]=n.isSelectionModeEnabled(s.props,Ye.FULL_ROWS),a)),E=s.grid.getRowIndicesInRect(h,g),L=r?0:E.rowIndexStart,T=r?s.getMaxFrozenRowIndex():E.rowIndexEnd;return i.createElement("div",{className:b,ref:e},i.createElement(Kt,{enableMultipleSelection:f,focusedCell:d,grid:s.grid,locator:s.locator,isReorderable:m,isResizable:C,loading:s.hasLoadingOption(v,ut.ROW_HEADERS),maxRowHeight:R,minRowHeight:y,onFocusedCell:s.handleFocus,onLayoutLock:s.handleLayoutLock,onResizeGuide:t,onReordered:s.handleRowsReordered,onReordering:o,onRowHeightChanged:s.handleRowHeightChanged,onSelection:s.getEnabledSelectionHandler(Ye.FULL_ROWS),rowHeaderCellRenderer:w,selectedRegions:c,selectedRegionTransform:S,rowIndexStart:L,rowIndexEnd:T}),s.maybeRenderRegions(s.styleRowHeaderRegion))},s.bodyCellRenderer=function(e,t){var n=s.getColumnProps(t);if(void 0===n)return null;n.id;var r=n.loadingOptions,l=n.cellRenderer,a=(n.columnHeaderCellRenderer,n.name,n.nameRenderer,o.__rest(n,["id","loadingOptions","cellRenderer","columnHeaderCellRenderer","name","nameRenderer"])),u=l(e,t),d=u.props.loading,c=void 0===d?s.hasLoadingOption(r,at.CELLS):d,h=o.__assign({},a,{loading:c});return i.cloneElement(u,h)},s.renderBody=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=s.state,r=o.focusedCell,l=o.numFrozenColumnsClamped,a=o.numFrozenRowsClamped,u=o.selectedRegions,d=o.viewportRect,c=s.props,h=c.enableMultipleSelection,p=c.enableGhostCells,f=c.loadingOptions,g=c.bodyContextMenuRenderer,m=c.selectedRegionTransform,C=s.grid.getRowIndicesInRect(d,p),v=s.grid.getColumnIndicesInRect(d,p),R=n?0:v.columnIndexStart+l,y=t?0:C.rowIndexStart+a,w=n?l-1:v.columnIndexEnd,S=t?a-1:C.rowIndexEnd,b=e===jt.MAIN?s.handleCompleteRender:void 0;return i.createElement("div",null,i.createElement(fn,{enableMultipleSelection:h,cellRenderer:s.bodyCellRenderer,focusedCell:r,grid:s.grid,loading:s.hasLoadingOption(f,ut.CELLS),locator:s.locator,onCompleteRender:b,onFocusedCell:s.handleFocus,onSelection:s.getEnabledSelectionHandler(Ye.CELLS),bodyContextMenuRenderer:g,renderMode:s.getNormalizedRenderMode(),selectedRegions:u,selectedRegionTransform:m,viewportRect:d,columnIndexStart:R,columnIndexEnd:w,rowIndexStart:y,rowIndexEnd:S,numFrozenColumns:n?l:void 0,numFrozenRows:t?a:void 0}),s.maybeRenderRegions(s.styleBodyRegion,e))},s.handleCompleteRender=function(){null!=s.state.viewportRect&&(a.Utils.safeInvoke(s.props.onCompleteRender),s.didCompletelyMount=!0)},s.handleFocusMoveLeft=function(e){return s.handleFocusMove(e,"left")},s.handleFocusMoveLeftInternal=function(e){return s.handleFocusMoveInternal(e,"left")},s.handleFocusMoveRight=function(e){return s.handleFocusMove(e,"right")},s.handleFocusMoveRightInternal=function(e){return s.handleFocusMoveInternal(e,"right")},s.handleFocusMoveUp=function(e){return s.handleFocusMove(e,"up")},s.handleFocusMoveUpInternal=function(e){return s.handleFocusMoveInternal(e,"up")},s.handleFocusMoveDown=function(e){return s.handleFocusMove(e,"down")},s.handleFocusMoveDownInternal=function(e){return s.handleFocusMoveInternal(e,"down")},s.styleBodyRegion=function(e,t){var n=s.props.numFrozenColumns,o=ct.getRegionCardinality(e),r=s.grid.getRegionStyle(e),l=(t===jt.TOP_LEFT||t===jt.LEFT)&&null!=n&&n>0,i=s.grid.getHeight(),a=s.grid.getWidth();switch(o){case Ye.CELLS:return r;case Ye.FULL_COLUMNS:return r.top="-1px",r.height=i+1,r;case Ye.FULL_ROWS:return r.left="-1px",r.width=a+1,l&&(r.right="-1px"),r;case Ye.FULL_TABLE:return r.left="-1px",r.top="-1px",r.width=a+1,r.height=i+1,l&&(r.right="-1px"),r;default:return{display:"none"}}},s.styleMenuRegion=function(e){if(null==s.state.viewportRect)return{};var t=ct.getRegionCardinality(e),n=s.grid.getRegionStyle(e);switch(t){case Ye.FULL_TABLE:return n.right="0px",n.bottom="0px",n.top="0px",n.left="0px",n.borderBottom="none",n.borderRight="none",n;default:return{display:"none"}}},s.styleColumnHeaderRegion=function(e){if(null==s.state.viewportRect)return{};var t=ct.getRegionCardinality(e),n=s.grid.getRegionStyle(e);switch(t){case Ye.FULL_TABLE:return n.left="-1px",n.borderLeft="none",n.bottom="-1px",n;case Ye.FULL_COLUMNS:return n.bottom="-1px",n;default:return{display:"none"}}},s.styleRowHeaderRegion=function(e){if(null==s.state.viewportRect)return{};var t=ct.getRegionCardinality(e),n=s.grid.getRegionStyle(e);switch(t){case Ye.FULL_TABLE:return n.top="-1px",n.borderTop="none",n.right="-1px",n;case Ye.FULL_ROWS:return n.right="-1px",n;default:return{display:"none"}}},s.handleColumnWidthChanged=function(e,t){var n=s.state.selectedRegions,o=s.state.columnWidths.slice();if(ct.hasFullTable(n))for(var r=0;r<o.length;r++)o[r]=t;ct.hasFullColumn(n,e)?ct.eachUniqueFullColumn(n,function(e){o[e]=t}):o[e]=t,s.invalidateGrid(),s.setState({columnWidths:o});var l=s.props.onColumnWidthChanged;null!=l&&l(e,t)},s.handleRowHeightChanged=function(e,t){var n=s.state.selectedRegions,o=s.state.rowHeights.slice();if(ct.hasFullTable(n))for(var r=0;r<o.length;r++)o[r]=t;ct.hasFullRow(n,e)?ct.eachUniqueFullRow(n,function(e){o[e]=t}):o[e]=t,s.invalidateGrid(),s.setState({rowHeights:o});var l=s.props.onRowHeightChanged;null!=l&&l(e,t)},s.handleRootScroll=function(e){null!=s.rootTableElement&&(s.rootTableElement.scrollLeft=0,s.rootTableElement.scrollTop=0)},s.handleBodyScroll=function(e){if(e.stopPropagation(),null!=s.locator&&!s.state.isLayoutLocked){var t=s.locator.getViewportRect();s.updateViewportRect(t)}},s.clearSelection=function(e){s.handleSelection([])},s.handleFocusMove=function(e,t){e.preventDefault(),e.stopPropagation();var n=s.state.focusedCell;if(null!=n){var o={col:n.col,row:n.row,focusSelectionIndex:0};switch(t){case"up":o.row-=1;break;case"down":o.row+=1;break;case"left":o.col-=1;break;case"right":o.col+=1}if(!(o.row<0||o.row>=s.grid.numRows||o.col<0||o.col>=s.grid.numCols)){var r=[ct.cell(o.row,o.col)],l=s.props.selectedRegionTransform,i=null!=l?r.map(function(t){return l(t,e)}):r;s.handleSelection(i),s.handleFocus(o),s.scrollBodyToFocusedCell(o)}}},s.handleFocusMoveInternal=function(e,t){e.preventDefault(),e.stopPropagation();var n=s.state,o=n.focusedCell,r=n.selectedRegions;if(null!=o){var l={col:o.col,focusSelectionIndex:o.focusSelectionIndex,row:o.row};if(null==o.focusSelectionIndex&&r.length>0){l={col:(i=ct.getCellRegionFromRegion(r[0],s.grid.numRows,s.grid.numCols)).cols[0],focusSelectionIndex:0,row:i.rows[0]}}else{if(0===r.length)return void s.handleFocusMove(e,t);var i;if((i=ct.getCellRegionFromRegion(r[o.focusSelectionIndex],s.grid.numRows,s.grid.numCols)).cols[0]===i.cols[1]&&i.rows[0]===i.rows[1]&&1===r.length)return void s.handleFocusMove(e,t);switch(t){case"up":l=s.moveFocusCell("row","col",!0,l,i);break;case"left":l=s.moveFocusCell("col","row",!0,l,i);break;case"down":l=s.moveFocusCell("row","col",!1,l,i);break;case"right":l=s.moveFocusCell("col","row",!1,l,i)}}l.row<0||l.row>=s.grid.numRows||l.col<0||l.col>=s.grid.numCols||(s.handleFocus(l),s.scrollBodyToFocusedCell(l))}},s.scrollBodyToFocusedCell=function(e){var t=e.row,n=e.col,o=s.state.viewportRect,r=o.top,l=o.left+o.width,i=o.top+o.height,a=o.left,u=s.grid.getCumulativeHeightBefore(t),d=s.grid.getCumulativeWidthAt(n),c=s.grid.getCumulativeHeightAt(t),h=s.grid.getCumulativeWidthBefore(n),p=c-u,f=d-h>o.width,g=p>o.height,m={};if(u<r||g)m.nextScrollTop=Math.max(0,u-1);else if(c>i){var C=c-i;m.nextScrollTop=r+C}if(h<a||f)m.nextScrollLeft=Math.max(0,h-1);else if(d>l){C=d-l;m.nextScrollLeft=a+C}s.syncViewportPosition(m)},s.handleFocus=function(e){s.props.enableFocusedCell&&(null==s.props.focusedCell&&s.setState({focusedCell:e}),a.Utils.safeInvoke(s.props.onFocusedCell,e))},s.handleSelection=function(e){null==s.props.selectedRegions&&s.setState({selectedRegions:e});var t=s.props.onSelection;null!=t&&t(e)},s.handleColumnsReordering=function(e){s.setState({isReordering:!0,verticalGuides:e})},s.handleColumnsReordered=function(e,t,n){s.setState({isReordering:!1,verticalGuides:void 0}),a.Utils.safeInvoke(s.props.onColumnsReordered,e,t,n)},s.handleRowsReordering=function(e){s.setState({isReordering:!0,horizontalGuides:e})},s.handleRowsReordered=function(e,t,n){s.setState({isReordering:!1,horizontalGuides:void 0}),a.Utils.safeInvoke(s.props.onRowsReordered,e,t,n)},s.handleLayoutLock=function(e){void 0===e&&(e=!1),s.setState({isLayoutLocked:e})},s.hasLoadingOption=function(e,t){if(null!=e)return e.indexOf(t)>=0},s.updateViewportRect=function(e){var t=s.state.viewportRect;s.setState({viewportRect:e}),(null!=t&&!t.equals(e)||null==t&&null!=e)&&s.invokeOnVisibleCellsChangeCallback(e)},s.getMaxFrozenColumnIndex=function(){var e=s.state.numFrozenColumnsClamped;return null!=e?e-1:void 0},s.getMaxFrozenRowIndex=function(){var e=s.state.numFrozenRowsClamped;return null!=e?e-1:void 0},s.handleColumnResizeGuide=function(e){s.setState({verticalGuides:e})},s.handleRowResizeGuide=function(e){s.setState({horizontalGuides:e})};var u=s.props,d=u.children,c=u.columnWidths,h=u.defaultRowHeight,p=u.defaultColumnWidth,f=u.numRows,g=u.rowHeights,m=i.Children.toArray(d),C=n.createColumnIdIndex(m),v=m.map(function(){return p});v=Ve.assignSparseValues(v,c);var y=Ve.times(f,function(){return h});y=Ve.assignSparseValues(y,g);var w=null==t.selectedRegions?[]:t.selectedRegions,S=St(t.enableFocusedCell,t.focusedCell,void 0,w);return s.state={childrenArray:m,columnIdToIndex:C,columnWidths:v,focusedCell:S,isLayoutLocked:!1,isReordering:!1,numFrozenColumnsClamped:mn(t),numFrozenRowsClamped:Cn(t),rowHeights:y,selectedRegions:w},s}var n;return o.__extends(t,e),n=t,t.getDerivedStateFromProps=function(e,t){var o=e.children,r=e.defaultColumnWidth,l=e.defaultRowHeight,s=e.enableFocusedCell,u=e.focusedCell,d=e.numRows,c=e.selectedRegions,h=e.selectionModes,p=e.columnWidths,f=e.rowHeights;null==p&&(p=t.columnWidths),null==f&&(f=t.rowHeights);var g=i.Children.toArray(o),m=g!==t.childrenArray,C=g.length,v=p;if(p!==t.columnWidths||m){var R=g.map(function(e,n){var o=t.columnIdToIndex[e.props.id];return t.columnWidths[null!=o?o:n]});v=Ve.arrayOfLength(v,C,r),v=Ve.assignSparseValues(v,R),v=Ve.assignSparseValues(v,p)}var y=f;f===t.rowHeights&&d===t.rowHeights.length||(y=Ve.arrayOfLength(y,d,l),y=Ve.assignSparseValues(y,f));var w=c;null==c&&(w=t.selectedRegions.filter(function(t){var o=ct.getRegionCardinality(t);return n.isSelectionModeEnabled(e,o,h)&&ct.isRegionValidForTable(t,d,C)}));var S=St(s,u,t.focusedCell,w),b={childrenArray:g,columnIdToIndex:m?n.createColumnIdIndex(g):t.columnIdToIndex,columnWidths:v,focusedCell:S,numFrozenColumnsClamped:mn(e),numFrozenRowsClamped:Cn(e),rowHeights:y,selectedRegions:w};return a.Utils.deepCompareKeys(t,b,n.SHALLOW_COMPARE_STATE_KEYS_BLACKLIST)?null:b},t.createColumnIdIndex=function(e){for(var t={},n=0;n<e.length;n++){var o=e[n].props.id;null!=o&&(t[String(o)]=n)}return t},t.isSelectionModeEnabled=function(e,t,n){void 0===n&&(n=e.selectionModes);var o=e.children,r=e.numRows,l=i.Children.count(o);return n.indexOf(t)>=0&&r>0&&l>0},t.prototype.resizeRowsByApproximateHeight=function(e,t){for(var n=this.props.numRows,o=this.state.columnWidths,r=o.length,l=[],i=0;i<n;i++){for(var a=0,s=0;s<r;s++){var u=this.resolveResizeRowsByApproximateHeightOptions(t,i,s),d=u.getApproximateCharWidth,c=u.getApproximateLineHeight,h=u.getCellHorizontalPadding,p=u.getNumBufferLines,f=e(i,s),g=Ve.getApproxCellHeight(f,o[s],d,c,h,p);g>a&&(a=g)}l.push(a)}this.invalidateGrid(),this.setState({rowHeights:l})},t.prototype.resizeRowsByTallestCell=function(e){var t=this,n=0;if(null==e)for(var o=this.grid.getColumnIndicesInRect(this.state.viewportRect),r=o.columnIndexStart;r<=o.columnIndexEnd;r++)n=Math.max(n,this.locator.getTallestVisibleCellInColumn(r));else{var l=(Array.isArray(e)?e:[e]).map(function(e){return t.locator.getTallestVisibleCellInColumn(e)});n=Math.max.apply(Math,l)}var i=Array(this.state.rowHeights.length).fill(n);this.invalidateGrid(),this.setState({rowHeights:i})},t.prototype.scrollToRegion=function(e){var t=this.state,n=t.numFrozenColumnsClamped,o=t.numFrozenRowsClamped,r=this.state.viewportRect,l=function(e,t,n,o,r,l,i){void 0===l&&(l=0),void 0===i&&(i=0);var a=ct.getRegionCardinality(e),s=n,u=t,d=o(i),c=r(l);switch(a){case Ye.CELLS:var h=r(e.rows[0]),p=o(e.cols[0]);s=Nt(h,c),u=Nt(p,d);break;case Ye.FULL_ROWS:s=Nt(h=r(e.rows[0]),c);break;case Ye.FULL_COLUMNS:u=Nt(p=o(e.cols[0]),d);break;default:s=0,u=0}return{scrollLeft:u,scrollTop:s}}(e,r.left,r.top,this.grid.getCumulativeWidthBefore,this.grid.getCumulativeHeightBefore,o,n),i=l.scrollLeft,a=l.scrollTop,s=this.shouldDisableHorizontalScroll()?0:i,u=this.shouldDisableVerticalScroll()?0:a;this.quadrantStackInstance.scrollToPosition(s,u)},t.prototype.getChildContext=function(){return{enableColumnInteractionBar:this.props.enableColumnInteractionBar}},t.prototype.shouldComponentUpdate=function(e,t){var o={exclude:n.SHALLOW_COMPARE_PROP_KEYS_BLACKLIST},r={exclude:n.SHALLOW_COMPARE_STATE_KEYS_BLACKLIST};return!(a.Utils.shallowCompareKeys(this.props,e,o)&&a.Utils.shallowCompareKeys(this.state,t,r)&&a.Utils.deepCompareKeys(this.props,e,n.SHALLOW_COMPARE_PROP_KEYS_BLACKLIST)&&a.Utils.deepCompareKeys(this.state,t,n.SHALLOW_COMPARE_STATE_KEYS_BLACKLIST))},t.prototype.render=function(){var e,t=this.props,o=t.children,r=t.className,a=t.enableRowHeader,s=t.loadingOptions,u=t.numRows,d=t.enableColumnInteractionBar,c=this.state,h=c.horizontalGuides,p=c.numFrozenColumnsClamped,f=c.numFrozenRowsClamped,g=c.verticalGuides;this.validateGrid();var m=l()(b,((e={})[se]=this.state.isReordering,e[q]=this.shouldDisableVerticalScroll(),e[W]=this.shouldDisableHorizontalScroll(),e[we]=n.isSelectionModeEnabled(this.props,Ye.CELLS),e[G]=0===u,e),r);return i.createElement("div",{className:m,ref:this.refHandlers.rootTable,onScroll:this.handleRootScroll},i.createElement(nn,{bodyRef:this.refHandlers.cellContainer,bodyRenderer:this.renderBody,columnHeaderCellRenderer:this.renderColumnHeader,columnHeaderRef:this.refHandlers.columnHeader,enableColumnInteractionBar:d,enableRowHeader:a,grid:this.grid,handleColumnResizeGuide:this.handleColumnResizeGuide,handleColumnsReordering:this.handleColumnsReordering,handleRowResizeGuide:this.handleRowResizeGuide,handleRowsReordering:this.handleRowsReordering,isHorizontalScrollDisabled:this.shouldDisableHorizontalScroll(),isVerticalScrollDisabled:this.shouldDisableVerticalScroll(),loadingOptions:s,numColumns:i.Children.count(o),numFrozenColumns:p,numFrozenRows:f,numRows:u,onScroll:this.handleBodyScroll,ref:this.refHandlers.quadrantStack,menuRenderer:this.renderMenu,rowHeaderCellRenderer:this.renderRowHeader,rowHeaderRef:this.refHandlers.rowHeader,scrollContainerRef:this.refHandlers.scrollContainer}),i.createElement("div",{className:l()(Q,j)}),i.createElement(Xt,{className:ue,verticalGuides:g,horizontalGuides:h}))},t.prototype.renderHotkeys=function(){var e=[this.maybeRenderCopyHotkey(),this.maybeRenderSelectAllHotkey(),this.maybeRenderFocusHotkeys(),this.maybeRenderSelectionResizeHotkeys()];return i.createElement(a.Hotkeys,null,e.filter(function(e){return void 0!==e}))},t.prototype.componentDidMount=function(){var e=this;this.validateGrid(),this.locator=new je(this.rootTableElement,this.scrollContainerElement,this.cellContainerElement),this.updateLocator(),this.updateViewportRect(this.locator.getViewportRect()),this.resizeSensorDetach=Yt.attach(this.rootTableElement,function(){e.state.isLayoutLocked||e.updateViewportRect(e.locator.getViewportRect())})},t.prototype.componentWillUnmount=function(){null!=this.resizeSensorDetach&&(this.resizeSensorDetach(),delete this.resizeSensorDetach),this.didCompletelyMount=!1},t.prototype.getSnapshotBeforeUpdate=function(){var e=this.state.viewportRect;this.validateGrid();var t=this.grid.getCumulativeHeightAt(this.grid.numRows-1),n=this.grid.getCumulativeWidthAt(this.grid.numCols-1),o=t<e.top+e.height?Math.max(0,t-e.height):void 0;return{nextScrollLeft:n<e.left+e.width?Math.max(0,n-e.width):void 0,nextScrollTop:o}},t.prototype.componentDidUpdate=function(t,n,o){e.prototype.componentDidUpdate.call(this,t,n,o),(i.Children.toArray(this.props.children)!==this.state.childrenArray||this.props.columnWidths!==n.columnWidths||this.props.rowHeights!==n.rowHeights||this.props.numRows!==t.numRows||this.props.forceRerenderOnSelectionChange&&this.props.selectedRegions!==t.selectedRegions)&&this.invalidateGrid(),null!=this.locator&&(this.validateGrid(),this.updateLocator()),(!a.Utils.arraysEqual(this.state.columnWidths,n.columnWidths)||!a.Utils.arraysEqual(this.state.rowHeights,n.rowHeights))&&(this.quadrantStackInstance.synchronizeQuadrantViews(),this.syncViewportPosition(o))},t.prototype.validateProps=function(e){var t=e.children,n=e.columnWidths,o=e.numFrozenColumns,r=e.numFrozenRows,l=e.numRows,s=e.rowHeights,u=i.Children.count(t);if(null!=l&&l<0)throw new Error("[Blueprint Table] <Table> requires numRows to be greater than or equal to 0.");if(null!=r&&r<0)throw new Error("[Blueprint Table] <Table> requires numFrozenRows to be greater than or equal to 0.");if(null!=o&&o<0)throw new Error("[Blueprint Table] <Table> requires numFrozenColumns to be greater than or equal to 0.");if(null!=l&&null!=s&&s.length!==l)throw new Error("[Blueprint Table] <Table> requires rowHeights.length to equal numRows when both props are provided.");if(null!=u&&null!=n&&n.length!==u)throw new Error("[Blueprint Table] <Table> requires columnWidths.length to equal the number of <Column>s if provided.");i.Children.forEach(t,function(e){if(!a.Utils.isElementOfType(e,lt))throw new Error('[Blueprint Table] <Table> Children of Table must be Columns"')}),null!=r&&null!=l&&r>l&&console.warn("[Blueprint Table] <Table> numFrozenRows must be less than or equal to numRows. Clamping the value for you."),null!=o&&o>u&&console.warn("[Blueprint Table] <Table> numFrozenColumns must be in less than or equal to the number of columns. Clamping the value for you.")},t.prototype.maybeRenderCopyHotkey=function(){return null!=this.props.getCellClipboardData?i.createElement(a.Hotkey,{key:"copy-hotkey",label:"Copy selected table cells",group:"Table",combo:"mod+c",onKeyDown:this.handleCopy}):void 0},t.prototype.maybeRenderSelectionResizeHotkeys=function(){var e=this.props,t=e.enableMultipleSelection,n=e.selectionModes.length>0;return t&&n?[i.createElement(a.Hotkey,{key:"resize-selection-up",label:"Resize selection upward",group:"Table",combo:"shift+up",onKeyDown:this.handleSelectionResizeUp}),i.createElement(a.Hotkey,{key:"resize-selection-down",label:"Resize selection downward",group:"Table",combo:"shift+down",onKeyDown:this.handleSelectionResizeDown}),i.createElement(a.Hotkey,{key:"resize-selection-left",label:"Resize selection leftward",group:"Table",combo:"shift+left",onKeyDown:this.handleSelectionResizeLeft}),i.createElement(a.Hotkey,{key:"resize-selection-right",label:"Resize selection rightward",group:"Table",combo:"shift+right",onKeyDown:this.handleSelectionResizeRight})]:void 0},t.prototype.maybeRenderFocusHotkeys=function(){return null!=this.props.enableFocusedCell?[i.createElement(a.Hotkey,{key:"move left",label:"Move focus cell left",group:"Table",combo:"left",onKeyDown:this.handleFocusMoveLeft}),i.createElement(a.Hotkey,{key:"move right",label:"Move focus cell right",group:"Table",combo:"right",onKeyDown:this.handleFocusMoveRight}),i.createElement(a.Hotkey,{key:"move up",label:"Move focus cell up",group:"Table",combo:"up",onKeyDown:this.handleFocusMoveUp}),i.createElement(a.Hotkey,{key:"move down",label:"Move focus cell down",group:"Table",combo:"down",onKeyDown:this.handleFocusMoveDown}),i.createElement(a.Hotkey,{key:"move tab",label:"Move focus cell tab",group:"Table",combo:"tab",onKeyDown:this.handleFocusMoveRightInternal,allowInInput:!0}),i.createElement(a.Hotkey,{key:"move shift-tab",label:"Move focus cell shift tab",group:"Table",combo:"shift+tab",onKeyDown:this.handleFocusMoveLeftInternal,allowInInput:!0}),i.createElement(a.Hotkey,{key:"move enter",label:"Move focus cell enter",group:"Table",combo:"enter",onKeyDown:this.handleFocusMoveDownInternal,allowInInput:!0}),i.createElement(a.Hotkey,{key:"move shift-enter",label:"Move focus cell shift enter",group:"Table",combo:"shift+enter",onKeyDown:this.handleFocusMoveUpInternal,allowInInput:!0})]:[]},t.prototype.maybeRenderSelectAllHotkey=function(){return n.isSelectionModeEnabled(this.props,Ye.FULL_TABLE)?i.createElement(a.Hotkey,{key:"select-all-hotkey",label:"Select all",group:"Table",combo:"mod+a",onKeyDown:this.handleSelectAllHotkey}):void 0},t.prototype.updateSelectedRegionAtIndex=function(e,t){var n=this.props,o=n.children,r=n.numRows,l=this.state.selectedRegions,a=i.Children.count(o),s=Math.max(0,r-1),u=Math.max(0,a-1),d=ct.clampRegion(e,s,u),c=ct.update(l,d,t);this.handleSelection(c)},t.prototype.moveFocusCell=function(e,t,n,o,r){var l=this.state.selectedRegions,i="row"===e?"rows":"cols",a="row"===t?"rows":"cols",s=n?-1:1,u=n?1:0;if((o[e]+=s,n?o[e]<r[i][0]:o[e]>r[i][1])&&(o[e]=r[i][u],o[t]+=s,n?o[t]<r[a][0]:o[t]>r[a][1])){var d=o.focusSelectionIndex+s;(n?d<0:d>=l.length)&&(d=n?l.length-1:0);var c=ct.getCellRegionFromRegion(l[d],this.grid.numRows,this.grid.numCols);o={col:c.cols[u],focusSelectionIndex:d,row:c.rows[u]}}return o},t.prototype.shouldDisableVerticalScroll=function(){var e=this.props.enableGhostCells,t=this.state.viewportRect,n=this.grid.getRowIndicesInRect(t,e),o=null!=t&&0===t.top,r=this.hasLoadingOption(this.props.loadingOptions,ut.ROW_HEADERS);return e&&this.grid.isGhostIndex(n.rowIndexEnd,0)&&(o||r)},t.prototype.shouldDisableHorizontalScroll=function(){var e=this.props.enableGhostCells,t=this.state.viewportRect,n=this.grid.getColumnIndicesInRect(t,e),o=null!=t&&0===t.left,r=e&&this.grid.isGhostColumn(n.columnIndexEnd),l=this.hasLoadingOption(this.props.loadingOptions,ut.COLUMN_HEADERS);return r&&(o||l)},t.prototype.getColumnProps=function(e){var t=this.state.childrenArray[e];return void 0===t?void 0:t.props},t.prototype.isGuidesShowing=function(){return null!=this.state.verticalGuides||null!=this.state.horizontalGuides},t.prototype.getEnabledSelectionHandler=function(e){return n.isSelectionModeEnabled(this.props,e)?this.handleSelection:this.clearSelection},t.prototype.invalidateGrid=function(){this.grid=null},t.prototype.validateGrid=function(){if(null==this.grid){var e=this.props,t=e.defaultRowHeight,n=e.defaultColumnWidth,o=this.state,r=o.rowHeights,l=o.columnWidths;this.grid=new gt(r,l,gt.DEFAULT_BLEED,t,n),this.invokeOnVisibleCellsChangeCallback(this.state.viewportRect)}},t.prototype.maybeRenderRegions=function(e,t){if(!this.isGuidesShowing()||this.state.isReordering)return ct.joinStyledRegionGroups(this.state.selectedRegions,this.props.styledRegionGroups,this.state.focusedCell).map(function(n,o){var r=n.regions.map(function(n){return e(n,t)});return i.createElement(Jt,{className:l()(n.className),key:o,regions:n.regions,regionStyles:r})})},t.prototype.syncViewportPosition=function(e){var t=e.nextScrollLeft,n=e.nextScrollTop,o=this.state.viewportRect;if(void 0!==t||void 0!==n){if(void 0!==n){var r=this.shouldDisableVerticalScroll()?0:this.columnHeaderElement.clientHeight;this.scrollContainerElement.scrollTop=n+r}if(void 0!==t){var l=this.shouldDisableHorizontalScroll()||null==this.rowHeaderElement?0:this.rowHeaderElement.clientWidth;this.scrollContainerElement.scrollLeft=t+l}var i=new Qe(t,n,o.width,o.height);this.updateViewportRect(i)}},t.prototype.updateLocator=function(){this.locator.setGrid(this.grid).setNumFrozenRows(this.state.numFrozenRowsClamped).setNumFrozenColumns(this.state.numFrozenColumnsClamped)},t.prototype.invokeOnVisibleCellsChangeCallback=function(e){var t=this.grid.getColumnIndicesInRect(e),n=this.grid.getRowIndicesInRect(e);a.Utils.safeInvoke(this.props.onVisibleCellsChange,n,t)},t.prototype.getNormalizedRenderMode=function(){var e=this.props.renderMode;return e===ft.BATCH||e===ft.BATCH_ON_UPDATE&&this.didCompletelyMount?ft.BATCH:ft.NONE},t.prototype.resolveResizeRowsByApproximateHeightOptions=function(e,t,o){return Object.keys(n.resizeRowsByApproximateHeightDefaults).reduce(function(r,l){return r[l]=null!=e&&null!=e[l]?a.Utils.safeInvokeOrValue(e[l],t,o):n.resizeRowsByApproximateHeightDefaults[l],r},{})},t.displayName=a.DISPLAYNAME_PREFIX+".Table",t.defaultProps={defaultColumnWidth:150,defaultRowHeight:20,enableFocusedCell:!1,enableGhostCells:!1,enableMultipleSelection:!0,enableRowHeader:!0,forceRerenderOnSelectionChange:!1,loadingOptions:[],minColumnWidth:50,minRowHeight:20,numFrozenColumns:0,numFrozenRows:0,numRows:0,renderMode:ft.BATCH_ON_UPDATE,rowHeaderCellRenderer:Qt,selectionModes:dt.ALL},t.childContextTypes=Mt,t.resizeRowsByApproximateHeightDefaults={getApproximateCharWidth:8,getApproximateLineHeight:18,getCellHorizontalPadding:2*je.CELL_HORIZONTAL_PADDING,getNumBufferLines:1},t.SHALLOW_COMPARE_PROP_KEYS_BLACKLIST=["selectedRegions"],t.SHALLOW_COMPARE_STATE_KEYS_BLACKLIST=["selectedRegions","viewportRect"],t=n=o.__decorate([a.HotkeysTarget,_t],t)}(a.AbstractComponent2);function mn(e){return vn(e.numFrozenColumns,i.Children.count(e.children))}function Cn(e){return vn(e.numFrozenRows,e.numRows)}function vn(e,t){return null==e?0:Ve.clamp(e,0,t)}n.d(t,"Cell",function(){return $e}),n.d(t,"EditableCell",function(){return rt}),n.d(t,"JSONFormat",function(){return Ze}),n.d(t,"TruncatedPopoverMode",function(){return Ke}),n.d(t,"TruncatedFormat",function(){return Xe}),n.d(t,"Column",function(){return lt}),n.d(t,"Clipboard",function(){return it}),n.d(t,"Grid",function(){return gt}),n.d(t,"Rect",function(){return Qe}),n.d(t,"RenderMode",function(){return ft}),n.d(t,"Utils",function(){return Ve}),n.d(t,"Draggable",function(){return ot}),n.d(t,"CopyCellsMenuItem",function(){return Ct}),n.d(t,"Orientation",function(){return mt}),n.d(t,"ResizeHandle",function(){return vt}),n.d(t,"DragSelectable",function(){return Tt}),n.d(t,"ColumnHeaderCell",function(){return At}),n.d(t,"HorizontalCellDivider",function(){return Ot}),n.d(t,"RowHeaderCell",function(){return zt}),n.d(t,"EditableName",function(){return kt}),n.d(t,"ColumnLoadingOption",function(){return at}),n.d(t,"RegionCardinality",function(){return Ye}),n.d(t,"Regions",function(){return ct}),n.d(t,"RowLoadingOption",function(){return st}),n.d(t,"SelectionModes",function(){return dt}),n.d(t,"TableLoadingOption",function(){return ut}),n.d(t,"Table",function(){return gn})}])});