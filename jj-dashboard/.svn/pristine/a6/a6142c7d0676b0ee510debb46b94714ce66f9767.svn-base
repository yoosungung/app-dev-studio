<%@ page contentType="text/html; charset=utf-8" pageEncoding="UTF-8" %>
<%@ include file="/WEB-INF/layouts/shared/include/PageHeader.jspf" %>

<% String APP_KEY = "e3646f4b7e4e60bb1e5c1bfcd828402c"; %>

<style>
table {
    width: 100%;
    border-collapse: collapse;
}
td {
    padding: 5px;
}
.line {
    border: 1px solid #444444;
    height: 100%;
}
.header {
    padding: 15px;
    border: 1px solid #444444;
}
.location {
    border: 1px solid #444444;
}
.location td, .location th {
    border: 1px solid #444444;
    padding: 3px;
}
</style>

<div>
    <table>
        <colgroup>
            <col width="25%">
            <col width="25%">
            <col width="25%">
            <col width="25%">
        </colgroup>
        <tr>
            <td class="tac header">입학인원</td>
            <td class="tac header">모집인원</td>
            <td class="tac header">지원인원</td>
            <td class="tac header">충원률</td>
        </tr>
    </table>
</div>

<br/><br/>

<div id="map">
    <table>
        <colgroup>
            <col width="33%">
            <col width="*">
            <col width="33%">
        </colgroup>
        <tr>
            <td style="display:table-cell;vertical-align:top;">
                <table>
                    <tr><td colspan="2"><strong>수시-학생부종합</strong></td></tr>
                </table>
                <table class="line">
                    <tr><td>전국</td><td>전북</td></tr>
                    <tr>
                        <td><div id="map_jong" style="height:300px;"></div></td>
                        <td><div id="map_jong_jb" style="height:250px;"></div></td>
                    </tr>
                </table>
            </td>
            <td rowspan="2">
                <table>
                    <tr><td><strong>전체</strong></td></tr>
                </table>
                <table class="line">
                    <tr>
                        <td>
                            <div id="map_all" style="height:780px;"></div>
                        </td>
                    </tr>
                </table>
            </td>
            <td style="display:table-cell;vertical-align:top;">
                <table>
                    <tr><td colspan="2"><strong>정시</strong></td></tr>
                </table>
                <table class="line">
                    <tr><td>전국</td><td>전북</td></tr>
                    <tr>
                        <td><div id="map_jung" style="height:300px;"></div></td>
                        <td><div id="map_jung_jb" style="height:250px;"></div></td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td style="display:table-cell;vertical-align:bottom;">
                <table>
                    <tr><td colspan="2"><strong>수시-학생부교과</strong></td></tr>
                </table>
                <table class="line">
                    <tr><td>전국</td><td>전북</td></tr>
                    <tr>
                        <td><div id="map_gyo" style="height:300px;"></div></td>
                        <td><div id="map_gyo_jb" style="height:250px;"></div></td>
                    </tr>
                </table>
            </td>
            <td>
                <div style="height:420px;overflow:auto;">
                    <table class="location">
                        <thead style="background-color:#e5e5e5;">
                            <tr>
                                <th>지역</th>
                                <th>전체</th>
                                <th>학생부종합</th>
                                <th>학생부교과</th>
                                <th>정시</th>
                            </tr>
                        </thead>
                        <tbody id="tbody"></tbody>
                    </table>
                </div>
            </td>
        </tr>
    </table>
</div>
<!-- <div id="map" style="width:100%;height:350px;"></div> -->

<!-- 카카오 API 일 300,000회 이용 가능합니다. -->
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=<%=APP_KEY%>&libraries=clusterer"></script>
<!-- 카카오 API 일 300,000회 이용 가능합니다. -->
<script type="text/javascript" src="${pageContext.request.contextPath}/dashboard/dashboard/spread/SpreadViewService.js"></script>

<script>
vues.read = new Vue({
    el: '#map',
    data: {
        search : {}
    },
    computed: {
        service: function() {
            return new SpreadViewService(this);
        },
        formatter: function() {
            return CommonUtil.formatter;
        },
    },
    mounted: function() {
        this.readList();
    },
    updated: function() {
        this.readList();
    },
    methods: {
        readList: function() {
            this.service.readList(this.search);
        }
    }
});
</script>
