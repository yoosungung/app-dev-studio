<%@ page contentType="text/html; charset=utf-8" pageEncoding="UTF-8" %>
<%@ include file="/WEB-INF/layouts/shared/include/PageHeader.jspf" %>

<% String APP_KEY = "e3646f4b7e4e60bb1e5c1bfcd828402c"; %>

<style>
table.location {
    border-collapse: collapse;
}
table.location tr th, table.location td {
    border: 1px solid #444444;
    padding: 3px;
}
</style>

<div id="map">
    <table style="width: 100%;">
        <colgroup>
            <col width="33%">
            <col width="*">
            <col width="33%">
        </colgroup>
        <tr>
            <td>
                <div>수시-학생부종합</div>
                <div id="map_jong" style="height:300px;float:left;width:50%;"></div>
                <div id="map_jong_jb" style="height:300px;float:left;width:50%;"></div>
            </td>
            <td rowspan=2>
                <div>전체</div>
                <div id="map_all" style="height:660px;"></div>
            </td>
            <td>
                <div>정시</div>
                <div id="map_jung" style="height:300px;float:left;width:50%;"></div>
                <div id="map_jung_jb" style="height:300px;float:left;width:50%;"></div>
            </td>
        </tr>
        <tr>
            <td>
                <div>수시-학생부교과</div>
                <div id="map_gyo" style="height:300px;float:left;width:50%;"></div>
                <div id="map_gyo_jb" style="height:300px;float:left;width:50%;"></div>
            </td>
            <td>
                <div style="height:300px;overflow:auto;">
                    <table class="location" style="width: 100%;">
                        <thead style="background-color:#e5e5e5;">
                            <tr>
                                <th>지역</th>
                                <th>전체</th>
                                <th>학생부종합</th>
                                <th>학생부교과</th>
                                <th>정시</th>
                            </tr>
                        </thead>
                        <tbody id="tbody"></tbody>
                    </table>
                </div>
            </td>
        </tr>
    </table>
</div>
<!-- <div id="map" style="width:100%;height:350px;"></div> -->

<!-- 카카오 API 일 300,000회 이용 가능합니다. -->
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=<%=APP_KEY%>&libraries=clusterer"></script>
<!-- 카카오 API 일 300,000회 이용 가능합니다. -->
<script type="text/javascript" src="${pageContext.request.contextPath}/dashboard/dashboard/spread/SpreadViewService.js"></script>

<script>
vues.read = new Vue({
    el: '#map',
    data: {
        search : {}
    },
    computed: {
        service: function() {
            return new SpreadViewService(this);
        },
        formatter: function() {
            return CommonUtil.formatter;
        },
    },
    mounted: function() {
        this.readList();
    },
    updated: function() {
        this.readList();
    },
    methods: {
        readList: function() {
            this.service.readList(this.search);
        }
    }
});
</script>
