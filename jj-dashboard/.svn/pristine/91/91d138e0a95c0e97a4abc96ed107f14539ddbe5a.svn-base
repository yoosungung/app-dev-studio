<%@ page contentType="text/html; charset=utf-8" pageEncoding="UTF-8" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>

<style>
#app {
    position: absolute;
    top: 25%;
    text-align: center;
    width: 100%;
}
</style>

<div id="app" v-on:keyup.enter="login();">
    <div>
        <input type="text" placeholder="로그인 이름" v-model="model.loginNm" ref="loginNm">
        <valid-checker v-bind:value="model.loginNm" check="required"></valid-checker>
    </div>

    <div>
        <input type="password" placeholder="비밀번호" v-model="model.loginPassword" ref="loginPassword">
        <valid-checker v-bind:value="model.loginPassword" check="required"></valid-checker>
    </div>

    <ui-button v-on:click="login();">로그인</ui-button>
</div>

<script>
vues.app = new Vue({
    el: '#app',
    data: {
        model: {
            loginNm: "",
            loginPassword: ""
        }
    },
    computed: {
        service: function() {
            return new UserLoginViewService(this);
        }
    },
    mounted: function() {
        this.$refs.loginNm.focus();
    },
    methods: {
        // 로그인
        login: function() {
            this.service.login("<c:out value='${targetUrl}' />");
        }
    }
});
</script>
